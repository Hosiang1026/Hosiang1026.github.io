<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Access-Control-Allow-Origin" content="*"><script type="text/javascript">var start_time=(new Date).getTime()</script><meta http-equiv="Cache-Control" content="no-cache"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="google-site-verification" content="9Wt3lmnrT2bfjaHla5s16adhvcQcBHO7PtNf97n5Od0"><meta name="baidu-site-verification" content="RYlYHsgO7Y"><meta name="sogou_site_verification" content="MSmrTj7lHV"><meta name="shenma-site-verification" content="e4428ccce0f22fad61c3716193bf4bd7_1571416388"><meta name="baidu_union_verify" content="584bb6b4bd24108df082b6d20c7aa9be"><title>推荐系列-数据库异常智能分析与诊断 | 狂欢马克思</title><meta name="keywords" content="分享技术经验与交流"><meta name="description" content="&amp;emsp;&amp;emsp;S（Database Autonomy Service, 数据库自治服务）面向研发和DBA，是一款为用户提供数据库性能分析、故障诊断、安全管理等功能的数据库自治服务。DAS利用大数据手段、机器学习、专家经验，帮…"><meta property="og:type" content="article"><meta property="og:title" content="推荐系列-数据库异常智能分析与诊断"><meta property="og:url" content="https://www.hosiang.cn/3392e446/index.html"><meta property="og:site_name" content="狂欢马克思"><meta property="og:description" content="&amp;emsp;&amp;emsp;S（Database Autonomy Service, 数据库自治服务）面向研发和DBA，是一款为用户提供数据库性能分析、故障诊断、安全管理等功能的数据库自治服务。DAS利用大数据手段、机器学习、专家经验，帮…"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-05-10T21:12:46.000Z"><meta property="article:modified_time" content="2022-05-19T04:45:10.429Z"><meta property="article:author" content="Howe Hsiang"><meta property="article:tag" content="Popular"><meta name="twitter:card" content="summary"><link rel="icon" href="/images/favicon.ico"><link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.bootcss.com/font-awesome-animation/0.1.0/font-awesome-animation.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3cd8fa109426bf3f10bd5c362175bace";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="generator" content="Hexo 6.2.0"></head><script src="/js/jquery.min.js"></script><script src="/js/pace.min.js"></script><script src="/js/crypto-js.js"></script><script src="/js/cookie.js"></script><script src="/js/calendar.js"></script><script src="/js/festival.js"></script><script>getFestival()</script><body><script>window.onload=function(){document.getElementById("TimeShow").innerHTML="本站耗时 "+((new Date).getTime()-start_time)/1e3+" 秒 "}</script><div id="container"><header id="header"><div id="banner"></div><div id="header-outer"><div id="header-menu" class="header-menu-pos animated"><div class="header-menu-container"><a href="/" class="left"><span class="site-title">狂欢马克思</span></a><nav id="header-menu-nav" class="right"><a href="/" rel="external nofollow"><i class="fa fa-home"></i> <span>主页</span> </a><a href="/archives" rel="external nofollow"><i class="fa fa-archive"></i> <span>归档</span> </a><a href="/gitbook" rel="external nofollow"><i class="fa fa-columns"></i> <span>笔记</span> </a><a href="/music" rel="external nofollow"><i class="fa fa-music"></i> <span>音乐</span> </a><a href="/photo" rel="external nofollow"><i class="fa fa-picture-o"></i> <span>相册</span> </a><a href="/love" rel="external nofollow"><i class="fa fa-heart"></i> <span>恋爱</span> </a><a href="/collection" rel="external nofollow"><i class="fa fa-envira"></i> <span>收藏</span> </a><a href="/about" rel="external nofollow"><i class="fa fa-user"></i> <span>关于</span></a></nav><a class="mobile-header-menu-button"><i class="fa fa-bars"></i></a></div></div><div id="header-row"><div id="logo"><a href="/"><img src="/../images/logo.png" alt="logo"></a></div><div class="header-info"><div id="header-title"><h2>狂欢马克思</h2></div><div id="header-description"><h3>专注Web开发</h3></div></div><nav class="header-nav"><div class="social"><a title="Github" target="_blank" href="//github.com/Hosiang1026" rel="external nofollow"><i class="fa fa-github fa-2x"></i></a> <a title="QQ" target="_blank" href="//wpa.qq.com/msgrd?v=3&uin=641904695&site=qq&menu=yes" rel="external nofollow"><i class="fa fa-qq fa-2x"></i></a> <a title="Weibo" target="_blank" href="//www.weibo.com/haoxiang969" rel="external nofollow"><i class="fa fa-weibo fa-2x"></i></a></div></nav></div><div id="noticeId" class="show" style="background:rgb(244,247,247,.3)"><marquee id="noticeMar" behavior="scoll" class="notice" direction="left" onmouseover="this.stop()" onmouseout="this.start()"></marquee></div><script type="text/javascript">function browserRedirect(){var n=navigator.userAgent.toLowerCase(),a="ipad"==n.match(/ipad/i),i="iphone os"==n.match(/iphone os/i),o="midp"==n.match(/midp/i),e="rv:1.2.3.4"==n.match(/rv:1.2.3.4/i),s="ucweb"==n.match(/ucweb/i),t="android"==n.match(/android/i),d="windows ce"==n.match(/windows ce/i),p="windows mobile"==n.match(/windows mobile/i),r="",c=randomColor(),r=a||i||o||e||s||t||d||p?($("#noticeId").css({"line-height":"1.6em"}),"<font style='color:"+c+"' face='新华宋体'  size='2'>官宣：<span id='weekend'></span><span id='msg'></span><span id='timer'></span><span id='hitokoto'></span></span></span><span id='YQData'></font> "):($("#noticeId").css({"line-height":"3.6em","margin-top":"20px"}),"<font style='color:"+c+"' face='新华宋体'  size='6'>官宣：<span id='weekend'></span><span id='msg'></span><span id='timer'></span><span id='hitokoto'></span></span><span id='YQData'></span></font> ");$("#noticeMar").html(r)}function randomColor(){for(var n="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(","),a="#",i=0;i<6;i++)a+=n[Math.floor(16*Math.random())];return a}$(function(){browserRedirect()})</script></div></header><script>console.log=function(){}</script><div class="outer"><section id="main" class="body-wrap"><article id="post-sync/数据库异常智能分析与诊断" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="post-title" itemprop="name">推荐系列-数据库异常智能分析与诊断</h1><div class="post-title-bar"><ul><li><i class="fa fa-book"></i> <a href="/categories/热门文章/">热门文章</a></li><li><i class="fa fa-calendar"></i> 2022-05-11</li><li><i class="fa fa-eye"></i> <span id="busuanzi_value_page_pv"></span></li><li><span class="post-count">字数统计: 5.9k字</span></li><li><span class="post-count">阅读时长: 20分钟</span></li></ul></div></header><div class="article-entry post-content" itemprop="articleBody"><p>&amp;emsp;&amp;emsp;S（Database Autonomy Service, 数据库自治服务）面向研发和DBA，是一款为用户提供数据库性能分析、故障诊断、安全管理等功能的数据库自治服务。DAS利用大数据手段、机器学习、专家经验，帮…</p><span id="more"></span><h4 id="1-现状与问题"><a href="#1-现状与问题" class="headerlink" title="1 现状与问题"></a>1 现状与问题</h4><h5 id="1-1-规模增长与运维能力发展之间的不平衡问题凸显"><a href="#1-1-规模增长与运维能力发展之间的不平衡问题凸显" class="headerlink" title="1.1 规模增长与运维能力发展之间的不平衡问题凸显"></a>1.1 规模增长与运维能力发展之间的不平衡问题凸显</h5><p>伴随着最近几年美团业务的快速发展，数据库的规模也保持着高速增长。而作为整个业务系统的“神经末梢”，数据库一旦出现问题，对业务造成的损失就会非常大。同时，因数据库规模的快速增长，出现问题的数量也大大增加，完全依靠人力的被动分析与定位已经不堪重负。下图是当时数据库实例近年来的增长趋势：</p><h5 id="1-2-理想很丰满，现实很骨感"><a href="#1-2-理想很丰满，现实很骨感" class="headerlink" title="1.2 理想很丰满，现实很骨感"></a>1.2 理想很丰满，现实很骨感</h5><p>美团数据库团队当前面临的主要矛盾是：实例规模增长与运维能力发展之间的不平衡，而主要矛盾体现在数据库稳定性要求较高与关键数据缺失。由于产品能力不足，只能依赖专业DBA手动排查问题，异常处理时间较长。因此，我们决定补齐关键信息，提供自助或自动定位问题的能力，缩短处理时长。<br>我们复盘了过去一段时间内的故障和告警，深入分析了这些问题的根因，发现任何一个异常其实都可以按时间拆分为异常预防、异常处理和异常复盘三阶段。针对这三阶段，结合MTTR的定义，然后调研了美团内部及业界的解决方案，我们做了一张涵盖数据库异常处理方案的全景图。如下图所示：</p><p>通过对比，我们发现：</p><p>每个环节我们都有相关的工具支撑，但能力又不够强，相比头部云厂商大概20%～30%左右的能力，短板比较明显。<br>自助化和自动化能力也不足，工具虽多，但整个链条没有打通，未形成合力。</p><p>那如何解决这一问题呢？团队成员经过深入分析和讨论后，我们提出了一种比较符合当前发展阶段的解决思路。</p><h4 id="2-解决的思路"><a href="#2-解决的思路" class="headerlink" title="2 解决的思路"></a>2 解决的思路</h4><h5 id="2-1-既解决短期矛盾，也立足长远发展"><a href="#2-1-既解决短期矛盾，也立足长远发展" class="headerlink" title="2.1 既解决短期矛盾，也立足长远发展"></a>2.1 既解决短期矛盾，也立足长远发展</h5><p>从对历史故障的复盘来看，80%故障中80%的时间都花在分析和定位上。解决异常分析和定位效率短期的ROI（投资回报率）最高。长期来看，只有完善能力版图，才能持续不断地提升整个数据库的稳定性及保障能力。因此，我们当时的一个想法就是既要解决短期矛盾，又要立足长远发展（Think Big Picture, Think Long Term）。新的方案要为未来留足足够的发展空间，不能只是“头痛医头、脚痛医脚”。<br>在宏观层面，我们希望能将更多的功能做到自动定位，基于自动定位来自助或自动地处理变更，从而提高异常恢复的效率，最终提升用户体验。将异常处理效率提高和用户体验提升后，运维人员（主要是DBA）的沟通成本将会极大被降低，这样运维人员就有更多时间进行技术投入，能将更多“人肉处理”的异常变成自助或自动处理，从而形成“飞轮效应”。最终达成高效的稳定性保障的目标。<br>在微观层面，我们基于已有的数据，通过结构化的信息输出，提升可观测性，补齐关键数据缺失的短板。同时，我们基于完善的信息输出，通过规则（专家经验）和AI的配合，提供自助或自动定位的能力，缩短处理时长。</p><h5 id="2-2-夯实基础能力，赋能上层业务，实现数据库自治"><a href="#2-2-夯实基础能力，赋能上层业务，实现数据库自治" class="headerlink" title="2.2 夯实基础能力，赋能上层业务，实现数据库自治"></a>2.2 夯实基础能力，赋能上层业务，实现数据库自治</h5><p>有了明确的指导思想，我们该采取怎样的发展策略和路径呢？就当时团队的人力情况来看，没有同学有过类似异常自治的开发经验，甚至对数据库的异常分析的能力都还不具备，人才结构不能满足产品的终极目标。所谓“天下大事必作于细，天下难事必作于易”。我们思路是从小功能和容易的地方入手，先完指标监控、慢查询、活跃会话这些简单的功能，再逐步深入到全量SQL、异常根因分析和慢查询优化建议等这些复杂的功能，通过这些基础工作来“借假修真”，不断提升团队攻坚克难的能力，同时也可以为智能化打下一个良好的基础。<br>以下便是我们根据当时人才结构以及未来目标设定的2年路径规划（实现数据自治目标规划在2022以后的启动，下图会省略掉这部分）：</p><h5 id="2-3-建立科学的评估体系，持续的跟踪产品质量"><a href="#2-3-建立科学的评估体系，持续的跟踪产品质量" class="headerlink" title="2.3 建立科学的评估体系，持续的跟踪产品质量"></a>2.3 建立科学的评估体系，持续的跟踪产品质量</h5><p>美国著名管理学者卡普兰说过：“没有度量就没有管理”。只有建立科学的评估体系，才能推进产品不断迈向更高峰，怎样评估产品的质量并持续改善呢？之前我们也做过很多指标，但都不可控，没有办法指导我们的工作。比如，我们最开始考虑根因定位使用的是结果指标准确率和召回率，但结果指标不可控难以指导我们的日常工作。这就需要找其中的可控因素，并不断改善。<br>我们在学习亚马逊的时候，刚好发现他们有一个可控输入和输出指标的方法论，就很好地指导了我们的工作。只要在正确的可控输入指标上不断优化和提升，最终我们的输出指标也能够得到提升（这也印证了曾国藩曾说过的一句话：“在因上致力，但在果上随缘”）。<br>以下是我们关于根因定位的指标设计和技术实现思路（在模拟环境不断提升可控的部分，最终线上的实际效果也会得到提升。主要包括“根因定位可控输入和输出指标设计思路”和“根因定位可控输入指标获取的技术实现思路”）。<br>根因定位可控输入和输出指标设计思路</p><p>根因定位可控输入指标获取的技术实现思路</p><p>在图5中，我们通过场景复现方式，用技术手段来模拟一些用低成本就能实现的异常（绝大部份异常）。在对于复现成本比较高的异常（极少部分），比如机器异常、硬件故障等，我们目前的思路是通过“人肉运营”的方式，发现和优化问题，等到下次线上异常重复发生后，根据优化后诊断的结果，通过和预期比较来确定验收是否通过。<br>未来我们会建立回溯系统，将发生问题时刻的异常指标保存，通过异常指标输入給回溯系统后的输出结果，判断系统改进的有效性，从而构建更加轻量和更广覆盖的复现方式。图6是复现系统的具体技术实现思路。<br>有了指导思想，符合当前发展阶段的路径规划以及科学的评估体系后，接下来聊聊技术方案的构思。</p><h4 id="3-技术方案"><a href="#3-技术方案" class="headerlink" title="3 技术方案"></a>3 技术方案</h4><h5 id="3-1-技术架构的顶层设计"><a href="#3-1-技术架构的顶层设计" class="headerlink" title="3.1 技术架构的顶层设计"></a>3.1 技术架构的顶层设计</h5><p>在技术架构顶层设计上，我们秉承平台化、自助化、智能化和自动化四步走的演进策略。<br>首先，我们要完善可观测的能力，通过关键信息的展示，构建一个易用的数据库监控平台。然后我们根据这些关键信息为变更（比如数据变更和索引变更等）提供赋能，将一部分高频运维工作通过这些结构化的关键信息（比如索引变更，可以监测近期是否有访问流量，来确保变更安全性）让用户自主决策，也就是自助化。接下来，我们加入一些智能的元素（专家经验+AI），进一步覆盖自助化的场景，并逐步将部分低风险的功能自动化，最终通过系统的不断完善，走到高级或完全自动化的阶段。<br>为什么我们将自动化放在智能化之后？因为我们认为智能化的目标也是为了自动化，智能化是自动化的前提，自动化是智能化的结果。只有不断提升智能化，才能达到高级或者完全自动化。下图便是我们的顶层架构设计（左侧是演进策略，右侧是技术架构的顶层设计以及2021年底的现状）：</p><p>顶层设计只是“万里长征第一步”，接下来我们将自底向上逐步介绍我们基于顶层设计开展的具体工作，将从数据采集层的设计、计算存储层的设计和分析决策层的设计逐步展开。</p><h5 id="3-2-数据采集层的设计"><a href="#3-2-数据采集层的设计" class="headerlink" title="3.2 数据采集层的设计"></a>3.2 数据采集层的设计</h5><p>这上面的架构图里，数据采集层是所有链路的最底层和最重要的环节，采集数据的质量直接决定了整个系统的能力。同时，它和数据库实例直接打交道，任何设计上的缺陷都将可能导致大规模的故障。所以，技术方案上必须兼顾数据采集质量和实例稳定性，在二者无法平衡的情况下，宁可牺牲掉采集质量也要保证数据库的稳定性。<br>在数据采集上，业界都采取基于内核的方式，但美团自研内核较晚，而且部署周期长，所以我们短期的方式是采用抓包的方式做一个过渡，等基于内核的��集部署到一定规模后再逐步切换过来。以下是我们基于抓包思路的技术方案调研：</p><p>方案<br>性能<br>通用性<br>备注</p><p>pcap<br>低<br>高<br>美团酒旅团队已线上实践</p><p>pf_ring<br>中<br>中<br>需要改造MySQL</p><p>dpdk<br>高<br>低<br>需要重新编译网卡驱动</p><p>从调研上我们可以看到，基于pf_ring和dpdk的方案都有较大的依赖性，短期难以实现，之前也没有经验。但是，基于pcap的方式没有依赖，我们也有过一定的经验，之前美团酒旅团队基于抓包的方式做过全量SQL数据采集的工具，并经过了1年时间的验证。因此，我们最终采取了基于pcap抓包方式的技术方案。以下是采集层方案的架构图和采集质量以及对数据库性能带来的影响情况。<br>Agent的技术设计</p><p>对数据库的影响</p><h5 id="3-3-计算存储层的设计"><a href="#3-3-计算存储层的设计" class="headerlink" title="3.3 计算存储层的设计"></a>3.3 计算存储层的设计</h5><p>由于美团整个数据库实例数量和流量巨大，而且随着业务的快速发展，还呈现出快速增长的态势。所以，我们的设计不仅要满足当前，还要考虑未来5年及更��的时间也能够满足要求。同时，对数据库故障分析来说，数据的实时性和完备性是快速和高效定位问题的关键，而保证数据实时性和完备性需要的容量成本也不容忽视。因此，结合上述要求和其他方面的一些考虑，我们对该部分设计提出了一些原则，主要包括：</p><p>全内存计算：确保所有的计算都在单线程内或单进程内做纯内存的操作，追求性能跟吞吐量的极致。<br>上报原始数据：MySQL实例上报的数据尽量维持原始数据状态，不做或者尽量少做数据加工。<br>数据压缩：由于上报量巨大，需要保障上报的数据进行极致的压缩。<br>内存消耗可控：通过理论和实际压测保障几乎不可能会发生内存溢出。<br>最小化对MySQL实例的影响：计算尽量后置，不在Agent上做复杂计算，确保不对RDS实例生产较大影响。以下是具体的架构图：</p><p>全量SQL（所有访问数据库的SQL）是整个系统最具挑战的功能，也是数据库异常分析最重要的信息之一，因此会就全量SQL的聚合方式、聚合和压缩的效果和补偿设计做一些重点的介绍。</p><h6 id="3-3-1-全量SQL的聚合方式"><a href="#3-3-1-全量SQL的聚合方式" class="headerlink" title="3.3.1 全量SQL的聚合方式"></a>3.3.1 全量SQL的聚合方式</h6><p>由于明细数据巨大，我们采取了聚合的方式。消费线程会对相同模板SQL的消息按分钟粒度进行聚合计算，以“RDSIP+DBName+SQL模版ID+SQL查询结束时间所在分钟数”为聚合键。聚合健的计算公式为：Aggkey&#x3D;RDS_IP_DBName_SQL_Template_ID_Time_Minute （Time_Minute的值取自SQL查询结束时间所在的“年、月、日、时、分钟”）</p><h6 id="3-3-2-全量SQL数据聚合和压缩的效果"><a href="#3-3-2-全量SQL数据聚合和压缩的效果" class="headerlink" title="3.3.2 全量SQL数据聚合和压缩的效果"></a>3.3.2 全量SQL数据聚合和压缩的效果</h6><p>在数据压缩方面，遵循层层减流原则，使用消息压缩、预聚合、字典化、分钟级聚合的手段，保证流量在经过每个组件时进行递减，最终达到节省带宽减少存储量的目的。以下是相关的压缩环节和测试数据表现情况（敏感数据做了脱敏，不代表美团实际的情况）：</p><h6 id="3-3-3-全量SQL数据补偿机制"><a href="#3-3-3-全量SQL数据补偿机制" class="headerlink" title="3.3.3 全量SQL数据补偿机制"></a>3.3.3 全量SQL数据补偿机制</h6><p>如上所述，在数据聚合端是按一分钟进行聚合，并允许额外一分钟的消息延迟，如果消息延迟超过1分钟会被直接丢弃掉，这样在业务高峰期延迟比较严重的场景下，会丢失比较大量的数据，从而对后续数据库异常分析的准确性造成较大的影响。<br>因此，我们增加了延迟消息补偿机制，对过期的数据发入补偿队列（采用的是美团消息队列服务Mafka），通过过期数据补偿的方式，保证延迟久的消息也能正常存储，通过最终一致性保证了后续的数据库异常分析的准确性。以下是数据补偿机制的设计方案：</p><h5 id="3-4-分析决策层的设计"><a href="#3-4-分析决策层的设计" class="headerlink" title="3.4 分析决策层的设计"></a>3.4 分析决策层的设计</h5><p>在有了比较全的数据之后，接下来就是基于数据进行决策，推断出可能的根因。这部分我们使用了基于专家经验结合AI的方式。我们把演进路径化分为了四个阶段：<br>第一阶段：完全以规则为主，积累领域经验，探索可行的路径。 第二阶段：探索AI场景，但以专家经验为主，在少量低频场景上使用AI算法，验证AI能力。 第三阶段：在专家经验和AI上齐头并进，专家经验继续在已有的场景上迭代和延伸，AI在新的场景上进行落地，通过双轨制保证原有能力不退化。 第四阶段：完成AI对大部分专家经验的替换，以AI为主专家经验为辅，极致发挥AI能力。<br>以下是分析决策部分整体的技术设计（我们参考了华为一篇文章：《网络云根因智荐的探索与实践》）：</p><p>在决策分析层，我们主要采取了专家经验和AI两者方式，接下来会介绍专家经验（基于规则的方式）和AI方式（基于AI算法的方式）的相关实现。</p><h6 id="3-4-1-基于规则的方式"><a href="#3-4-1-基于规则的方式" class="headerlink" title="3.4.1 基于规则的方式"></a>3.4.1 基于规则的方式</h6><p>专家经验部分，我们采取了GRAI（Goal、Result、Analysis和Insight的简称）的复盘方法论来指导工作，通过持续、大量、高频的复盘，我们提炼了一些靠谱的规则，并通过持续的迭代，不断提升准确率和召回率。下面例举的是主从延迟的规则提炼过程：</p><h6 id="3-4-2-基于AI算法的方式"><a href="#3-4-2-基于AI算法的方式" class="headerlink" title="3.4.2 基于AI算法的方式"></a>3.4.2 基于AI算法的方式</h6><p>异常数据库指标检测<br>数据库核心指标的异常检测依赖于对指标历史数据的合理建模，通过将离线过程的定期建模与实时过程的流检测相结合，将有助于在数据库实例存在故障或风险的情况下，有效地定位根本问题所在，从而实现及时有效地解决问题。<br>建模过程主要分为3个流程。首先，我们通过一些前置的模块对指标的历史数据进行预处理，包含缺失数值填充，数据的平滑与聚合等过程。随后，我们通过分类模块创建了后续的不同分支，针对不同类型的指标运用不同的手段来建模。最终，将模型进行序列化存储后提供Flink任务读取实现流检测。<br>以下是检测的设计图</p><p>根因诊断（构建中）<br>订阅告警消息（基于规则或者异常检测触发），触发诊断流程，采集、分析数据，推断出根因并筛选出有效信息辅助用户解决。诊断结果通过大象通知用户，并提供诊断诊断详情页面，用户可通过标注来优化诊断准确性。</p><p>数据采集：采集数据库性能指标、数据库状态抓取、系统指标、硬件问题、日志、记录等数据。 特征提取：从各类数据中提取特征，包括算法提取的时序特征、文本特征以及利用数据库知识提取的领域特征等。 根因分类：包括特征预处理、特征筛选、算法分类、根因排序等部分。 根因扩展：基于根因类别进行相关信息的深入挖掘，提高用户处理问题的效率。具体包括SQL行为分析、专家规则、指标关联、维度下钻、日志分析等功能模块。</p><h4 id="4-建设成果"><a href="#4-建设成果" class="headerlink" title="4 建设成果"></a>4 建设成果</h4><h5 id="4-1-指标表现"><a href="#4-1-指标表现" class="headerlink" title="4.1 指标表现"></a>4.1 指标表现</h5><p>我们目前主要是通过“梳理触发告警场景-&gt;模拟复现场景-&gt;根因分析和诊断-&gt;改进计划-&gt;验收改进质量-&gt;梳理触发告警场景”的闭环方法（详情请参考前文建立科学的评估体系，持续的跟踪产品质量部分），持续不断的进行优化和迭代。通过可控输入指标的提升，来优化改善线上的输出指标，从而保证系统不断的朝着正确的方向发展。以下是近期根因召回率和准确率指标表现情况。<br>用户告警根因反馈准确率</p><p>告警诊断分析总体召回率</p><h5 id="4-2-用户案例"><a href="#4-2-用户案例" class="headerlink" title="4.2 用户案例"></a>4.2 用户案例</h5><p>在根因结果推送上，我们和美团内部的IM系统（大象）进行了打通，出现问题后通过告警发现异常-&gt;大象推送诊断根因-&gt;点击诊断链接详情查看详细信息-&gt;一键预案处理-&gt;跟踪反馈处理的效果-&gt;执行成功或者回滚，来完成异常的发现、定位、确认和处理的闭环。以下是活跃会话规则触发告警后根因分析的一个案例。<br>自动拉群，并给出根因</p><p>点击诊断报告，查看详情</p><p>以下是出现Load告警后，我们的一个慢查询优化建议推送案例（脱敏原因，采用了测试环境模拟的案例）。</p><h4 id="5-总结与��来展望"><a href="#5-总结与��来展望" class="headerlink" title="5 总结与��来展望"></a>5 总结与��来展望</h4><p>数据库自治服务经过2年左右的发展，已基本夯实了基础能力，在部分业务场景上完成了初步赋能（比如针对问题SQL，业务服务上线发布前自动识别，提示潜在风险；针对索引误变更，工单执行前自动检测索引近期访问流量，阻断误变更等）。接下来，我们的目标除了在已完成工作上继续深耕，提升能力外，重点会瞄准数据库自治能力。主要的工作规划将围绕以下3个方向：<br>（1）计算存储能力增强：随着数据库实例和业务流量的持续高速增长，以及采集的信息的不断丰富，亟需对现有数据通道能力进行增强，确保能支撑未来3-5年的处理能力。<br>（2）自治能力在少部分场景上落地：数据库自治能力上，会采取三步走的策略：</p><p>第一步：建立根因诊断和SOP文档的关联，将诊断和处理透明化；<br>第二步：SOP文档平台化，将诊断和处理流程化；<br>第三步：部分低风险无人干预，将诊断和处理自动化，逐步实现数据库自治。</p><p>（3）更灵活的异常回溯系统：某个场景根因定位算法在上线前或者改进后的验证非常关键，我们会完善验证体系，建立灵活的异常回溯系统，通过基于现场信息的回放来不断优化和提升系统定位准确率。</p><h4 id="6-作者及团队"><a href="#6-作者及团队" class="headerlink" title="6 作者及团队"></a>6 作者及团队</h4><p>金龙，来自美团基础技术部&#x2F;数据库研发中心&#x2F;数据库平台研发组。<br>美团基础技术部-数据库技术中心诚招高级、资深技术专家，Base上海、北京。美团关系数据库规模大，每年快速的增长，每天承载数千亿的访问流量。在这里可以体验高并发，高可用，高可扩展性的业务挑战，可以紧跟并开拓业界前沿技术，体会到技术进步带来的生产力提升。欢迎有兴趣的同学投送简历至：<a href="mailto:&#101;&#x64;&#x70;&#x2e;&#105;&#x74;&#x75;&#46;&#122;&#x68;&#97;&#x6f;&#x70;&#105;&#110;&#64;&#x6d;&#101;&#105;&#x74;&#117;&#97;&#x6e;&#x2e;&#99;&#111;&#109;">&#101;&#x64;&#x70;&#x2e;&#105;&#x74;&#x75;&#46;&#122;&#x68;&#97;&#x6f;&#x70;&#105;&#110;&#64;&#x6d;&#101;&#105;&#x74;&#117;&#97;&#x6e;&#x2e;&#99;&#111;&#109;</a>。<br>阅读美团技术团队更多技术文章合集<br>前端 | 算法 | 后端 | 数据 | 安全 | 运维 | iOS | Android | 测试<br>| 在公众号菜单栏对话框回复【2021年货】、【2020年货】、【2019年货】、【2018年货】、【2017年货】等关键词，可查看美团技术团队历年技术文章合集。</p><p>| 本文系美团技术团队出品，著作权归属美团。欢迎出于分享和交流等非商业目的转载或使用本文内容，敬请注明“内容转载自美团技术团队”。本文未经许可，不得进行商业性转载或者使用。任何商用行为，请发送邮件至<a href="mailto:&#x74;&#x65;&#x63;&#104;&#x40;&#109;&#x65;&#105;&#x74;&#117;&#x61;&#x6e;&#x2e;&#x63;&#x6f;&#109;">&#x74;&#x65;&#x63;&#104;&#x40;&#109;&#x65;&#105;&#x74;&#117;&#x61;&#x6e;&#x2e;&#x63;&#x6f;&#109;</a>申请授权。</p><div class="post-copyright"><div class="content"><p>本文标题： 推荐系列-数据库异常智能分析与诊断</p><p>本文作者： OSChina</p><p>发布时间： 2022年05月11日 05:12</p><p>最后更新： 2022年05月19日 12:45</p><p>原始链接： <a class="post-url" href="/3392e446/" title="推荐系列-数据库异常智能分析与诊断">https://www.hosiang.cn/3392e446/</a></p><p>版权声明： 本文著作权归作者所有，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 4.0</a>许可协议，转载请注明出处！</p><footer><a href="https://www.hosiang.cn"><img src="/../images/logo.png" alt="Howe Hsiang"> Howe Hsiang</a></footer></div></div><div class="page-reward"><a id="rewardBtn" href="javascript:;">赏</a></div><div id="reward" class="post-modal reward-lay"><a class="close" href="javascript:;" id="reward-close">×</a> <span class="reward-title"><i class="icon icon-quote-left"></i> 喜欢就赞赏一下呗！ <i class="icon icon-quote-right"></i></span><div class="reward-content"><div class="reward-code"><img id="rewardCode" src="/images/threepay_code.jpg" alt="打赏二维码"></div><div class="reward-select"></div></div></div></div><footer class="article-footer"><div class="post-share"><a href="javascript:" id="share-sub" class="post-share-fab"><i class="fa fa-share-alt" style="padding-top:11px!important"></i></a><div class="post-share-list" id="share-list"><ul class="share-icons"><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.hosiang.cn/3392e446/" data-title="Facebook" rel="external nofollow noopener noreferrer"><i class="fa fa-facebook" style="padding-top:9px!important"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《推荐系列-数据库异常智能分析与诊断》 — 狂欢马克思&url=https://www.hosiang.cn/3392e446/&via=https://www.hosiang.cn" data-title="Twitter" rel="external nofollow noopener noreferrer"><i class="fa fa-twitter" style="padding-top:9px!important"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.hosiang.cn/3392e446/" data-title="Google+" rel="external nofollow noopener noreferrer"><i class="fa fa-google-plus" style="padding-top:9px!important"></i></a></li><li><a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://www.hosiang.cn/3392e446/&title=《推荐系列-数据库异常智能分析与诊断》 — 狂欢马克思&source=&amp;emsp;&amp;emsp;S（Database Autonomy Service, 数据库自治服务）面向研发和DBA，是一款为用户提供数据库..." data-title="QQ" rel="external nofollow noopener noreferrer"><i class="fa fa-qq" style="padding-top:9px!important"></i></a></li><li><a class="weixin share-sns" id="wxFab" href="javascript:" data-title="微信"><i class="fa fa-weixin" style="padding-top:9px!important"></i></a></li><li><a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://www.hosiang.cn/3392e446/&title=《推荐系列-数据库异常智能分析与诊断》 — 狂欢马克思&pic=https://oscimg.oschina.net/oscnet/up-7605529f0a770b29453814f5a30dc45c08b.jpg" data-title="微博" rel="external nofollow noopener noreferrer"><i class="fa fa-weibo" style="padding-top:9px!important"></i></a></li></ul></div></div><div class="post-modal wx-share" id="wxShare"><a class="close" href="javascript:" id="wxShare-close">×</a><p>扫一扫，分享到微信</p><img src="//api.qrserver.com/v1/create-qr-code/?data=https://www.hosiang.cn/3392e446/" alt="微信分享二维码"></div><div class="mask"></div><ul class="article-footer-menu"><li class="article-footer-tags"><i class="fa fa-tags"></i> <a href="/tags/Popular/" class="color3">Popular</a></li></ul></footer></div></article><aside class="post-toc-pos post-toc-top" id="post-toc"><nav class="post-toc-wrap"><ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-%E7%8E%B0%E7%8A%B6%E4%B8%8E%E9%97%AE%E9%A2%98"><span class="post-toc-text">1 现状与问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-1-%E8%A7%84%E6%A8%A1%E5%A2%9E%E9%95%BF%E4%B8%8E%E8%BF%90%E7%BB%B4%E8%83%BD%E5%8A%9B%E5%8F%91%E5%B1%95%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B8%8D%E5%B9%B3%E8%A1%A1%E9%97%AE%E9%A2%98%E5%87%B8%E6%98%BE"><span class="post-toc-text">1.1 规模增长与运维能力发展之间的不平衡问题凸显</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-2-%E7%90%86%E6%83%B3%E5%BE%88%E4%B8%B0%E6%BB%A1%EF%BC%8C%E7%8E%B0%E5%AE%9E%E5%BE%88%E9%AA%A8%E6%84%9F"><span class="post-toc-text">1.2 理想很丰满，现实很骨感</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-%E8%A7%A3%E5%86%B3%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="post-toc-text">2 解决的思路</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-1-%E6%97%A2%E8%A7%A3%E5%86%B3%E7%9F%AD%E6%9C%9F%E7%9F%9B%E7%9B%BE%EF%BC%8C%E4%B9%9F%E7%AB%8B%E8%B6%B3%E9%95%BF%E8%BF%9C%E5%8F%91%E5%B1%95"><span class="post-toc-text">2.1 既解决短期矛盾，也立足长远发展</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-2-%E5%A4%AF%E5%AE%9E%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B%EF%BC%8C%E8%B5%8B%E8%83%BD%E4%B8%8A%E5%B1%82%E4%B8%9A%E5%8A%A1%EF%BC%8C%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E8%87%AA%E6%B2%BB"><span class="post-toc-text">2.2 夯实基础能力，赋能上层业务，实现数据库自治</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-3-%E5%BB%BA%E7%AB%8B%E7%A7%91%E5%AD%A6%E7%9A%84%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB%EF%BC%8C%E6%8C%81%E7%BB%AD%E7%9A%84%E8%B7%9F%E8%B8%AA%E4%BA%A7%E5%93%81%E8%B4%A8%E9%87%8F"><span class="post-toc-text">2.3 建立科学的评估体系，持续的跟踪产品质量</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88"><span class="post-toc-text">3 技术方案</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-1-%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E7%9A%84%E9%A1%B6%E5%B1%82%E8%AE%BE%E8%AE%A1"><span class="post-toc-text">3.1 技术架构的顶层设计</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-2-%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="post-toc-text">3.2 数据采集层的设计</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-3-%E8%AE%A1%E7%AE%97%E5%AD%98%E5%82%A8%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="post-toc-text">3.3 计算存储层的设计</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-3-1-%E5%85%A8%E9%87%8FSQL%E7%9A%84%E8%81%9A%E5%90%88%E6%96%B9%E5%BC%8F"><span class="post-toc-text">3.3.1 全量SQL的聚合方式</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-3-2-%E5%85%A8%E9%87%8FSQL%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88%E5%92%8C%E5%8E%8B%E7%BC%A9%E7%9A%84%E6%95%88%E6%9E%9C"><span class="post-toc-text">3.3.2 全量SQL数据聚合和压缩的效果</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-3-3-%E5%85%A8%E9%87%8FSQL%E6%95%B0%E6%8D%AE%E8%A1%A5%E5%81%BF%E6%9C%BA%E5%88%B6"><span class="post-toc-text">3.3.3 全量SQL数据补偿机制</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-4-%E5%88%86%E6%9E%90%E5%86%B3%E7%AD%96%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="post-toc-text">3.4 分析决策层的设计</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-4-1-%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="post-toc-text">3.4.1 基于规则的方式</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-4-2-%E5%9F%BA%E4%BA%8EAI%E7%AE%97%E6%B3%95%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="post-toc-text">3.4.2 基于AI算法的方式</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-%E5%BB%BA%E8%AE%BE%E6%88%90%E6%9E%9C"><span class="post-toc-text">4 建设成果</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-1-%E6%8C%87%E6%A0%87%E8%A1%A8%E7%8E%B0"><span class="post-toc-text">4.1 指标表现</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-2-%E7%94%A8%E6%88%B7%E6%A1%88%E4%BE%8B"><span class="post-toc-text">4.2 用户案例</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-%E6%80%BB%E7%BB%93%E4%B8%8E%EF%BF%BD%EF%BF%BD%E6%9D%A5%E5%B1%95%E6%9C%9B"><span class="post-toc-text">5 总结与��来展望</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6-%E4%BD%9C%E8%80%85%E5%8F%8A%E5%9B%A2%E9%98%9F"><span class="post-toc-text">6 作者及团队</span></a></li></ol></nav></aside><nav id="article-nav"><a href="/e9ee1df8/" id="article-nav-newer" class="article-nav-link-wrap"><span class="article-nav-title"><i class="fa fa-hand-o-left" aria-hidden="true"></i> 推荐系列-基于AutoTagging技术实践 构建统一的可观测性数据平台 </span></a><a href="/50862901/" id="article-nav-older" class="article-nav-link-wrap"><span class="article-nav-title">推荐系列-深入探索云原生流水线的架构设计</span> <i class="fa fa-hand-o-right" aria-hidden="true"></i></a></nav><div id="gitalk"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk=new Gitalk({repo:"bolg-comment",owner:"Hosiang1026",admin:"Hosiang1026",clientID:"37a2dd4473e8970cecc2",clientSecret:"e30efa17d86d9de4f4ab810872dc62a7b2e7e634",pagerDirection:"last",distractionFreeMode:!0,createIssueManually:!1});gitalk.render("gitalk")</script></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner"><script id="_wau78w">var _wau=_wau||[];_wau.push(["small","5dnguv4c2n","78w"])</script><script async src="//waust.at/s.js"></script><p><span id="busuanzi_container_site_uv" style="display:none"><span class="post-count">总字数：<span>1777.3k</span> </span>总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">总访问量：<span id="busuanzi_value_site_pv"></span></span><br><span id="TimeShow">本站</span><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br>Copyright&copy; 2018 - 2022 狂欢马克思 <a href="https://beian.miit.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">京ICP备17060439号</a></p></div></div><script>var now=new Date;function createtime(){var n=new Date("2017/09/18");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",800)</script></footer><script>var mihoConfig={root:"https://www.hosiang.cn",animate:"true",isHome:"false",share:"true",reward:" 1"}</script><div class="sidebar"><div id="sidebar-search" title="Search"><i class="fa fa-search"></i></div><div id="sidebar-category" title="Categories"><i class="fa fa-book"></i></div><div id="sidebar-tag" title="Tags"><i class="fa fa-tags"></i></div><div id="sidebar-top"><span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span></div></div><div class="sidebar-menu-box" id="sidebar-menu-box"><div class="sidebar-menu-box-container"><div id="sidebar-menu-box-categories"><a class="category-link" href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/">兴趣爱好</a><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96%E5%BC%80%E5%8F%91/">其他开发</a><a class="category-link" href="/categories/%E5%89%8D%E6%B2%BF%E5%BC%80%E5%8F%91/">前沿开发</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a><a class="category-link" href="/categories/%E5%8D%87%E7%BA%A7%E7%89%88%E6%9C%AC/">升级版本</a><a class="category-link" href="/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/">博客教程</a><a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">后端开发</a><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><a class="category-link" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/">日常记录</a><a class="category-link" href="/categories/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0/">热门文章</a></div><div id="sidebar-menu-box-tags"><a href="/tags/Ajax/" style="font-size:10px">Ajax</a> <a href="/tags/AliGenie/" style="font-size:10px">AliGenie</a> <a href="/tags/Alipay/" style="font-size:10px">Alipay</a> <a href="/tags/Android/" style="font-size:10px">Android</a> <a href="/tags/Blockchain/" style="font-size:17.5px">Blockchain</a> <a href="/tags/CQRS/" style="font-size:10px">CQRS</a> <a href="/tags/Database/" style="font-size:15px">Database</a> <a href="/tags/Docker/" style="font-size:10px">Docker</a> <a href="/tags/EasyUI/" style="font-size:10px">EasyUI</a> <a href="/tags/Guitar/" style="font-size:10px">Guitar</a> <a href="/tags/Hackintosh/" style="font-size:12.5px">Hackintosh</a> <a href="/tags/Hexo/" style="font-size:15px">Hexo</a> <a href="/tags/IntelliJ-IDEA/" style="font-size:10px">IntelliJ IDEA</a> <a href="/tags/Java/" style="font-size:12.5px">Java</a> <a href="/tags/Kali-Linux/" style="font-size:10px">Kali Linux</a> <a href="/tags/Life/" style="font-size:17.5px">Life</a> <a href="/tags/Mac-OS/" style="font-size:12.5px">Mac OS</a> <a href="/tags/MultiThread/" style="font-size:10px">MultiThread</a> <a href="/tags/NodeJS/" style="font-size:10px">NodeJS</a> <a href="/tags/Popular/" style="font-size:20px">Popular</a> <a href="/tags/Python/" style="font-size:10px">Python</a> <a href="/tags/SaaS/" style="font-size:10px">SaaS</a> <a href="/tags/Servlet/" style="font-size:10px">Servlet</a> <a href="/tags/Spring/" style="font-size:17.5px">Spring</a> <a href="/tags/Upgrade/" style="font-size:10px">Upgrade</a> <a href="/tags/Web/" style="font-size:10px">Web</a> <a href="/tags/Windows/" style="font-size:10px">Windows</a> <a href="/tags/Work/" style="font-size:10px">Work</a> <a href="/tags/iOS/" style="font-size:10px">iOS</a></div></div><a href="javascript:" class="sidebar-menu-box-close">&times;</a></div><div class="mobile-header-menu-nav" id="mobile-header-menu-nav"><div class="mobile-header-menu-container"><span class="title">导航</span><ul class="mobile-header-menu-navbar"><li><a href="/"><i class="fa fa-home"></i><span>主页</span></a></li><li><a href="/archives"><i class="fa fa-archive"></i><span>归档</span></a></li><li><a href="/gitbook"><i class="fa fa-columns"></i><span>笔记</span></a></li><li><a href="/music"><i class="fa fa-music"></i><span>音乐</span></a></li><li><a href="/photo"><i class="fa fa-picture-o"></i><span>相册</span></a></li><li><a href="/love"><i class="fa fa-heart"></i><span>恋爱</span></a></li><li><a href="/collection"><i class="fa fa-envira"></i><span>收藏</span></a></li><li><a href="/about"><i class="fa fa-user"></i><span>关于</span></a></li></ul></div><div class="mobile-header-tag-container"><span class="title">标签</span><div id="mobile-header-container-tags"><a href="/tags/Ajax/" style="font-size:10px">Ajax</a> <a href="/tags/AliGenie/" style="font-size:10px">AliGenie</a> <a href="/tags/Alipay/" style="font-size:10px">Alipay</a> <a href="/tags/Android/" style="font-size:10px">Android</a> <a href="/tags/Blockchain/" style="font-size:17.5px">Blockchain</a> <a href="/tags/CQRS/" style="font-size:10px">CQRS</a> <a href="/tags/Database/" style="font-size:15px">Database</a> <a href="/tags/Docker/" style="font-size:10px">Docker</a> <a href="/tags/EasyUI/" style="font-size:10px">EasyUI</a> <a href="/tags/Guitar/" style="font-size:10px">Guitar</a> <a href="/tags/Hackintosh/" style="font-size:12.5px">Hackintosh</a> <a href="/tags/Hexo/" style="font-size:15px">Hexo</a> <a href="/tags/IntelliJ-IDEA/" style="font-size:10px">IntelliJ IDEA</a> <a href="/tags/Java/" style="font-size:12.5px">Java</a> <a href="/tags/Kali-Linux/" style="font-size:10px">Kali Linux</a> <a href="/tags/Life/" style="font-size:17.5px">Life</a> <a href="/tags/Mac-OS/" style="font-size:12.5px">Mac OS</a> <a href="/tags/MultiThread/" style="font-size:10px">MultiThread</a> <a href="/tags/NodeJS/" style="font-size:10px">NodeJS</a> <a href="/tags/Popular/" style="font-size:20px">Popular</a> <a href="/tags/Python/" style="font-size:10px">Python</a> <a href="/tags/SaaS/" style="font-size:10px">SaaS</a> <a href="/tags/Servlet/" style="font-size:10px">Servlet</a> <a href="/tags/Spring/" style="font-size:17.5px">Spring</a> <a href="/tags/Upgrade/" style="font-size:10px">Upgrade</a> <a href="/tags/Web/" style="font-size:10px">Web</a> <a href="/tags/Windows/" style="font-size:10px">Windows</a> <a href="/tags/Work/" style="font-size:10px">Work</a> <a href="/tags/iOS/" style="font-size:10px">iOS</a></div></div></div><div class="search-wrap"><span class="search-close">&times;</span> <a href="javascript:" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input class="search-field" placeholder="Search..." id="keywords"> <a id="search-submit" href="javascript:"><i class="fa fa-search"></i></a><div class="search-container" id="search-container"><ul class="search-result" id="search-result"></ul></div></div><div id="search-tpl"><li class="search-result-item"><a href="{url}" class="search-item-li"><span class="search-item-li-title" title="{title}">{title}</span></a></li></div><script src="/js/search.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script><div id="particles"></div><script src="/js/particles.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css"><script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script><script src="/js/animate.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0,scale:.5},log:!1})</script></body></html>