<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Access-Control-Allow-Origin" content="*"><script type="text/javascript">var start_time=(new Date).getTime()</script><meta http-equiv="Cache-Control" content="no-cache"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="google-site-verification" content="9Wt3lmnrT2bfjaHla5s16adhvcQcBHO7PtNf97n5Od0"><meta name="baidu-site-verification" content="RYlYHsgO7Y"><meta name="sogou_site_verification" content="MSmrTj7lHV"><meta name="shenma-site-verification" content="e4428ccce0f22fad61c3716193bf4bd7_1571416388"><meta name="baidu_union_verify" content="584bb6b4bd24108df082b6d20c7aa9be"><title>推荐系列-官宣｜Apache Flink 1.15 发布公告 | 狂欢马克思</title><meta name="keywords" content="分享技术经验与交流"><meta name="description" content="&amp;emsp;&amp;emsp; | Joe Moser &amp; 高赟 翻译 | 高赟 Apache Flink，���为 Apache 社区最活跃的项目之一[1]，一直秉承积极开放的态度不断进行技术深耕。在此我们很荣幸的发布 Flink 1.15 版本，并…"><meta property="og:type" content="article"><meta property="og:title" content="推荐系列-官宣｜Apache Flink 1.15 发布公告"><meta property="og:url" content="https://www.hosiang.cn/67861b5/index.html"><meta property="og:site_name" content="狂欢马克思"><meta property="og:description" content="&amp;emsp;&amp;emsp; | Joe Moser &amp; 高赟 翻译 | 高赟 Apache Flink，���为 Apache 社区最活跃的项目之一[1]，一直秉承积极开放的态度不断进行技术深耕。在此我们很荣幸的发布 Flink 1.15 版本，并…"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-05-10T21:14:30.000Z"><meta property="article:modified_time" content="2022-07-08T07:48:17.789Z"><meta property="article:author" content="Howe Hsiang"><meta property="article:tag" content="Popular"><meta name="twitter:card" content="summary"><link rel="icon" href="/images/favicon.ico"><link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.bootcss.com/font-awesome-animation/0.1.0/font-awesome-animation.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3cd8fa109426bf3f10bd5c362175bace";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="generator" content="Hexo 6.2.0"></head><script src="/js/jquery.min.js"></script><script src="/js/pace.min.js"></script><script src="/js/crypto-js.js"></script><script src="/js/cookie.js"></script><script src="/js/calendar.js"></script><script src="/js/festival.js"></script><script>getFestival()</script><body><script>window.onload=function(){document.getElementById("TimeShow").innerHTML="本站耗时 "+((new Date).getTime()-start_time)/1e3+" 秒 "}</script><div id="container"><header id="header"><div id="banner"></div><div id="header-outer"><div id="header-menu" class="header-menu-pos animated"><div class="header-menu-container"><a href="/" class="left"><span class="site-title">狂欢马克思</span></a><nav id="header-menu-nav" class="right"><a href="/" rel="external nofollow"><i class="fa fa-home"></i> <span>主页</span> </a><a href="/archives" rel="external nofollow"><i class="fa fa-archive"></i> <span>归档</span> </a><a href="/gitbook" rel="external nofollow"><i class="fa fa-columns"></i> <span>笔记</span> </a><a href="/music" rel="external nofollow"><i class="fa fa-music"></i> <span>音乐</span> </a><a href="/photo" rel="external nofollow"><i class="fa fa-picture-o"></i> <span>相册</span> </a><a href="/love" rel="external nofollow"><i class="fa fa-heart"></i> <span>恋爱</span> </a><a href="/collection" rel="external nofollow"><i class="fa fa-envira"></i> <span>收藏</span> </a><a href="/about" rel="external nofollow"><i class="fa fa-user"></i> <span>关于</span></a></nav><a class="mobile-header-menu-button"><i class="fa fa-bars"></i></a></div></div><div id="header-row"><div id="logo"><a href="/"><img src="/../images/logo.png" alt="logo"></a></div><div class="header-info"><div id="header-title"><h2>狂欢马克思</h2></div><div id="header-description"><h3>专注Web开发</h3></div></div><nav class="header-nav"><div class="social"><a title="Github" target="_blank" href="//github.com/Hosiang1026" rel="external nofollow"><i class="fa fa-github fa-2x"></i></a> <a title="QQ" target="_blank" href="//wpa.qq.com/msgrd?v=3&uin=641904695&site=qq&menu=yes" rel="external nofollow"><i class="fa fa-qq fa-2x"></i></a> <a title="Weibo" target="_blank" href="//www.weibo.com/haoxiang969" rel="external nofollow"><i class="fa fa-weibo fa-2x"></i></a></div></nav></div><script type="text/javascript" src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script><div id="noticeId" class="show" style="background:rgb(244,247,247,.3)"><marquee id="noticeMar" behavior="scoll" class="notice" direction="left" onmouseover="this.stop()" onmouseout="this.start()"></marquee></div><script type="text/javascript">function browserRedirect(){var i=navigator.userAgent.toLowerCase(),n="ipad"==i.match(/ipad/i),e="iphone os"==i.match(/iphone os/i),o="midp"==i.match(/midp/i),a="rv:1.2.3.4"==i.match(/rv:1.2.3.4/i),s="ucweb"==i.match(/ucweb/i),t="android"==i.match(/android/i),r="windows ce"==i.match(/windows ce/i),c="windows mobile"==i.match(/windows mobile/i),d="",m=randomColor(),d=n||e||o||a||s||t||r||c?($("#noticeId").css({"line-height":"1.6em"}),"<font style='color:"+m+"' face='新华宋体'  size='2'>官宣：<span id='msg'></span><span id='timer'></span><span id='jinrishici-sentence'></span></font> "):($("#noticeId").css({"line-height":"3.6em","margin-top":"20px"}),"<font style='color:"+m+"' face='新华宋体'  size='6'>官宣：<span id='weekend'></span><span id='msg'></span><span id='timer'></span><span id='jinrishici-sentence'></span></font> ");$("#noticeMar").html(d)}function randomColor(){for(var i="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(","),n="#",e=0;e<6;e++)n+=i[Math.floor(16*Math.random())];return n}$(function(){browserRedirect()})</script></div></header><script>console.log=function(){}</script><div class="outer"><section id="main" class="body-wrap"><article id="post-sync/官宣｜Apache Flink 1.15 发布公告" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="post-title" itemprop="name">推荐系列-官宣｜Apache Flink 1.15 发布公告</h1><div class="post-title-bar"><ul><li><i class="fa fa-book"></i> <a href="/categories/热门文章/">热门文章</a></li><li><i class="fa fa-calendar"></i> 2022-05-11</li><li><i class="fa fa-eye"></i> <span id="busuanzi_value_page_pv"></span></li><li><span class="post-count">字数统计: 6k字</span></li><li><span class="post-count">阅读时长: 24分钟</span></li></ul></div></header><div class="article-entry post-content" itemprop="articleBody"><p>&amp;emsp;&amp;emsp; | Joe Moser &amp; 高赟 翻译 | 高赟 Apache Flink，���为 Apache 社区最活跃的项目之一<sup>[1]</sup>，一直秉承积极开放的态度不断进行技术深耕。在此我们很荣幸的发布 Flink 1.15 版本，并…</p><span id="more"></span><p>Apache Flink，作为 Apache 社区最活跃的项目之一<sup>[1]</sup>，一直秉承积极开放的态度不断进行技术深耕。在此我们很荣幸的发布 Flink 1.15 版本，并和大家分享这个版本令人振奋的一些功能和改进！<br>Apache Flink 核心概念之一是流 (无界数据) 批 (有界数据) 一体。流批一体极大的降低了流批融合作业的开发复杂度。在过去的几个版本中，Flink 流批一体逐渐成熟，Flink 1.15 版本中流批一体更加完善，后面我们也将继续推动这一方向的进展。目前大数据处理的一个趋势是越来越多的业务和场景采用低代码的方式进行数据分析，而 Flink SQL则是这种低代码方式数据分析的典型代表。越来越多的用户开始采用 Flink SQL 来实现他们的业务，这也是 Flink 用户和生态快速增长的重要原因之一。Apache Flink 作为数据处理生态中的重要一环，可以与许多其他技术结合在一起支持各类用户场景。在当下云原生的背景下。我们也尽可能将 Flink 与这些系统以及各类云基础设施进行无缝集成。<br>在 1.15 版本中，Apache Flink 社区在上述这些方面都取得了重大进展：</p><p>1.15 版本的一大看点是改进了运维 Apache Flink 的体验：包括明确 Checkpoint 和 Savepoint 在不同作业之间的所属权，简化 Checkpoint 和 Savepoint 生命周期管理；更加无缝支持完整的自动伸缩；通过 Watermark 对齐来消除多个数据源速率不同带来的问题等<br>1.15 版本中，Flink 进一步完善流批一体的体验：继续完善部分作业完成后的 Checkpoint 操作；支持批模式下的 Window table-valued 函数，并且使其在流批混合的场景下更加易用。<br>Flink SQL 的进阶：包括能够在不丢失状态的情况下升级 SQL 作业；添加了对 JSON 相关函数的支持来简化数据的输入与输出操作。<br>Flink 作为整个数据处理生态中的一环，1.15 版本进一步提升了与云服务的交互操作性，并且添加了更多的 Sink 连接器与数据格式。最后，我们在运行时中去除了对 Scala 的依赖<sup>[2]</sup>。</p><h4 id="轻松运维-Apache-Flink"><a href="#轻松运维-Apache-Flink" class="headerlink" title="轻松运维 Apache Flink"></a>轻松运维 Apache Flink</h4><p>长期来看，即使是由最好的工程团队来进行构建和调优，Flink 作业仍然依赖运维操作。 Flink 支持多种不同的部署模式、API、调优配置与用例，这意味着运维工作至关重要并且可能十分繁重。<br>在这个版本中，我们听取了用户的反馈，对 Flink 的运维操作进行了简化，使用户能够更加轻松的进行运维。现在 Flink 明确了 Checkpoint 与 Savepoint 在不同作业之间的所属权；更加无缝支持完整的自动伸缩；通过 Watermark 对齐消除多个数据源产出速率不同带来的问题，并且初步支持了在不丢失状态的情况下升级 SQL 作业的能力。</p><h5 id="澄清-Checkpoint-与-Savepoint-语义"><a href="#澄清-Checkpoint-与-Savepoint-语义" class="headerlink" title="澄清 Checkpoint 与 Savepoint 语义"></a>澄清 Checkpoint 与 Savepoint 语义</h5><p>Flink 容错策略的两个重要基础概念是 Checkpoint<sup>[3]</sup> 与 Savepoint<sup>[4]</sup> (参见比较<sup>[5]</sup>)。<br>Savepoint 的主要作用是支持作业修改、备份与升级等场景，它是由用户来完全控制的。而另一方面，Checkpoint 由 Flink 完全控制，用于通过支持快速恢复与重启来实现容错的能力。这两个概念十分相似，并且它们共享了很大一部分实现。<br>然而，由于遵循不同的功能要求，这两个概念逐渐变得不一致，使用户看起来没有完整的顶层设计。根据用户反馈，这两个概念应该被更好地对齐和协调，最重要的是，这两个概念应该被更清晰的定义。<br>在某些停止或重新启动作业的场景下，虽然逻辑上应该使用 Savepoint，但用户还是会选择使用持久化的 Checkpoint，因为 Savepoint 无法享受 Checkpoint 可以使用的一些优化而导致执行较为缓慢。但是在这种情况下，作业从持久化的 Checkpoint 重启时 (这种情况下 Checkpoint 实际上被当作 Savepoint 来使用)，对用户来说何时可以清理 Checkpoint 中的数据并不十分清楚。<br>因此，在 FLIP-193: 状态所属权<sup>[6]</sup> 中，Flink 希望可以将 Savepoint 和 Checkpoint 抽像成唯一区别是所属权不同的两个概念。在 1.15 中，通过支持原生的增量 Savepoint<sup>[7]</sup>，Flink 解决了 Savepoint 的一些不足：在过去的版本中，Savepoint 总是使用标准格式以及非增量的方式，��也是导致它性能较差的原因。在 1.15 中，如果用户选择使用原生格式并且同时使用了 RocksDB 状态存储，那么Savepoint 将采用增量的方式来执行。我们也更新了相关文档来更好的概览与理解 Checkpoint 与 Savepoint 的差异。此外，关于从 Savepoint &#x2F; 持久化的 Checkpoint 恢复<sup>[8]</sup>的语义，我们显式的引入了 CLAIM 与 NO_CLAIM 两种模式。对于 CLAIM 模式 Flink 将接管快照中数据的所属权，而对于 NO_CLAIM 模式，Flink 将创建它自己的副本，而由用户来负责管理与删除原始的数据。注意现在默认将采用 NO_CLAIM 模式，之前版本中从 Savepoint &#x2F; 持久化的 Checkpoint 恢复的行为可以通过指定 LEGACY 模式来恢复。</p><h5 id="基于-Reactive-模式与自适应调度器的弹性伸缩"><a href="#基于-Reactive-模式与自适应调度器的弹性伸缩" class="headerlink" title="基于 Reactive 模式与自适应调度器的弹性伸缩"></a>基于 Reactive 模式与自适应调度器的弹性伸缩</h5><p>由于越来越多的云服务基于 Apache Flink 构建 ，Flink 项目变得越来越云原生，这使得弹性伸缩也越来越重要。<br>此版本改进了 Reactive 模式<sup>[9]</sup> 的指标。Reactive 模式是一个作业级别的模式，在这种模式下， JobManager 将尝试使用所有可用的 TaskManager 上的资源。我们在 1.15 中保证了作业级别的指标在 Reactive 模式下也可以正常的工作。<br>我们还为自适应调度器<sup>[10]</sup> 添加了异常历史记录。自适应调度器是一个新的调度器，它首先声明了所需的资源并且根据根据资源情况在执行前决定资源的并行度。<br>此外，Flink 提高了缩减作业规模的速度：TaskManager 现在有一个专用代码路径来关闭自己，它会主动从集群中注销自己而不是依赖于心跳，从而给 JobManager 一个明确的缩减作业规模的信号。</p><h5 id="自适应批调度器"><a href="#自适应批调度器" class="headerlink" title="自适应批调度器"></a>自适应批调度器</h5><p>在 1.15 中，我们为 Apache Flink 引入了一个新的自适应批处理调度器<sup>[11]</sup>。这一调度器可以自动根据每个节点需要处理的数据量的大小自动决定批处理作业中各节点的并行度。<br>此调度器的主要优点包括：</p><p>易用性：批处理作业的用户不再需要手动调优并行度。<br>自适应：自动调整并行度可以更好地适应节点消费数据集随时间发生变化的情况。<br>细粒度：每个作业节点的并行度可以单独调整。这允许 SQL 批处理作业的节点自动为每个节点选择单独选择最适合的并行度。</p><h5 id="跨源节点的-Watermark-对齐"><a href="#跨源节点的-Watermark-对齐" class="headerlink" title="跨源节点的 Watermark 对齐"></a>跨源节点的 Watermark 对齐</h5><p>如果一个作业中使用了多个数据源节点，并且这些数据源以不同的节奏来增长 Watermark，这可能在下游节点中产生一些问题。例如，一些算子可能需要缓存非常大量的数据，从而导致巨大的算子状态。因此，我们在这一版本中引入了 Watermark 对齐的能力。<br>基于新的 Source 接口来实现的数据源节点可以启用 Watermark 对齐功能<sup>[12]</sup>。用户可以定义对齐组，如果其中某个源节点与其它节点相比Watermark领先过多，用户可以暂停从该节点中消费数据。对齐 Watermark 的理想情况是有两个或更多以不同速度产生 Watermark 的数据源节点，并且数据源节点并发与外部系统的分片数量相同的情况。</p><h5 id="SQL-版本升级"><a href="#SQL-版本升级" class="headerlink" title="SQL 版本升级"></a>SQL 版本升级</h5><p>SQL 查询的执行计划及其生成的拓扑是通过优化规则和一个基于成本的模型来得到的，这意味着即使最小的更改也可能会产生一个完全不同的拓扑。这种动态性使得在不同 Flink 版本间保证快照兼容性非常具有挑战性。在 1.15 中，社区首先通过保持拓扑不变的方式使相同的查询在升级 Flink 版本后仍然可以启动和执行。<br>SQL 升级的核心是 JSON 计划 (即以 JSON 表达的查询执行计划，我们目前只有 JavaDocs 中的文档，并且仍在努力更新文档<sup>[13]</sup> )，JSON Plan 可以让 SQL 计划以结构化数据的方式被导入和导出，之前这一功能是一个内部实现，现在它将被公开以提供给用户使用。Table API 与 SQL 都会提供一种方式来编译和执行一个保证在不同版本中保持不变的执行计划。 此功能将作为实验性 MVP 功能发布。想要尝试的用户已经可以创建一个 JSON 计划，然后可以使用这一计划在升级后基于旧的算子结构恢复 Flink 作业。我们将在 1.16 中提供这一功能的完整支持。<br>从长远来看，可靠的升级使 Flink SQL 可以在线上生产场景更加可靠的使用。</p><h5 id="基于-Changelog-的状态存储"><a href="#基于-Changelog-的状态存储" class="headerlink" title="基于 Changelog 的状态存储"></a>基于 Changelog 的状态存储</h5><p>在 Flink 1.15 中，我们引入了 MVP 特性：基于 Changelog 的状态存储<sup>[14]</sup>。这一新的状态存储旨在支持更短、更可以预测的 Checkpoint 间隔。它具有以下优势：</p><p>更短的端到端延迟：端到端延迟主要取决于 Checkpoint 机制，特别是使用了两阶段提交的支持端到端一致性的 Sink 节点的情况，这种情况下缩短 Checkpoint 周期意味着可以更快的提交数据。<br>更可预测的 Checkpoint 间隔：目前 Checkpoint 的完成时间很大程度上取决于需要保存在 Checkpoint 中的数据的大小。通过使这一数据总是可以很小，Checkpoint 的完成时间变得更加可以预测。<br>恢复工作更少：Checkpoint 越频繁，每次重启后重新处理的数据也会越少。</p><p>基于 Changelog 的状态存储通过在后台不断向非易失性存储上上传状态变化的记录来实现上述目标。</p><h5 id="可重���的清理"><a href="#可重���的清理" class="headerlink" title="可重���的清理"></a>可重���的清理</h5><p>在以前的 Flink 版本中，Flink 在作业结束时只尝试清理一次与作业相关的残留数据，这可能会导致在发生错误时无法完成清理。在这个版本中，Flink 将尝试重复运行清理以避免残留数据。默认情况下，Flink 将不断重试机制，直到运行成功为止。用户可以通过配置相关参数<sup>[15]</sup>来改变这种行为。禁用重试策略可以恢复 Flink 之前版本的行为。<br>清理 Checkpoint 的相关工作仍在进行中，包括 FLINK-26606<sup>[16]</sup>。</p><h5 id="Open-API"><a href="#Open-API" class="headerlink" title="Open API"></a>Open API</h5><p>Flink 现在提供遵循 Open API<sup>[17]</sup> 标准的 REST API 规范。这允许 REST API 与遵循 Open API 标准的工具直接交互。您可以在 18 找到相应规范。</p><h5 id="Application-模式的改进"><a href="#Application-模式的改进" class="headerlink" title="Application 模式的改进"></a>Application 模式的改进</h5><p>在 Application 模式<sup>[19]</sup> 下运行 Flink 时，如果用户进行了相关配置<sup>[20]</sup>，它现在可以保证作业在结束前能够正常完成 stop-with-savepoint 操作。<br>在 Application 模式下运行的作业的恢复和清理也得到了改进。本地状态的元数据也可以保存在工作目录中，这使得从本地状态恢复更容易 (例如将工作目录设定在非易失的跨机器的存储中的情况，之前本地状态的元数据保存在内存中，因此在作业恢复时无法找回)。</p><h4 id="流批一体的更多进展"><a href="#流批一体的更多进展" class="headerlink" title="流批一体的更多进展"></a>流批一体的更多进展</h4><p>在最新版本中，我们对流批一体的支持进行了进一步的完善。</p><h5 id="作业结束前的-Checkpoint"><a href="#作业结束前的-Checkpoint" class="headerlink" title="作业结束前的 Checkpoint"></a>作业结束前的 Checkpoint</h5><p>在 Flink 1.14 中，添加了对作业结束前等待一次 Checkpoint 操作的支持，从而保证使用流模式处理有限数据可以保证所有被据被提交，但是在 1.14 中，该功能必须被手动启用。自上次发布以来，我们听取了用户反馈并决定默认启用它。关于这一功能的更多信息以及如何禁用此功能，请参阅 21。需要指出的是，这一默认配置的变化可能延长使用流模式处理有界数据时的执行时间，因为作业必须在结束前等待下一个 Checkpoint 完成。</p><h5 id="Window-table-valued-函数"><a href="#Window-table-valued-函数" class="headerlink" title="Window table-valued 函数"></a>Window table-valued 函数</h5><p>Window table-valued 函数<sup>[22]</sup> 之前仅可用于流模式下。在 1.15 中，它们现在也可以在批模式下使用。此外，通过实现一个专门的算子，我们现在不再要求这些 Window 函数必须定义一个聚合器，从而进一步增强了 Window table-valued 函数。</p><h4 id="Flink-SQL"><a href="#Flink-SQL" class="headerlink" title="Flink SQL"></a>Flink SQL</h4><p>社区指标表明 Flink SQL 被广泛使用并且变得越来越流行。在 1.15 中社区对 Flink SQL 也做了许多改进，下文将更加详细地讨论其中两个改进。</p><h5 id="CAST-x2F-类型系统增强"><a href="#CAST-x2F-类型系统增强" class="headerlink" title="CAST &#x2F; 类型系统增强"></a>CAST &#x2F; 类型系统增强</h5><p>数据以各种形式出现，但是并不是所有情况下都是用户需要的类型，因此 CAST<sup>[23]</sup> 是 SQL 中最常见的操作之一。在 Flink 1.15 中，失败的 CAST 的默认行为已从返回 null 更改为返回错误，从而使它更符合 SQL 标准。之前的行为可以通过调用新引入的 TRY_CAST 函数或通过在恢复时配置相应参数来实现。<br>此外，Flink 1.15 也修正了许多 CAST 的错误并对它的功能进行了改进，从而保证结果的正确性。</p><h5 id="JSON-函数"><a href="#JSON-函数" class="headerlink" title="JSON 函数"></a>JSON 函数</h5><p>JSON 是最流行的数据格式之一，越来越多的 SQL 用户需要生成或读取 JSON 类型的数据。Flink 1.15 根据 SQL 2016 标准引入了多个 JSON 处理函数<sup>[24]</sup>。这些函数允许用户来使用 Flink SQL 方言检查、创建和修改 JSON 字符串。</p><h4 id="社区支持"><a href="#社区支持" class="headerlink" title="社区支持"></a>社区支持</h4><p>Flink 的一个重要目标是使用户能够构建流数据管道来解决他们的用例。一般来说，Apache Flink 不会单独使用，而是作为更大的数据分析平台中的重要一环。因此，简化 Flink 在云环境下的使用与维护、支持无缝连接到其他系统并继续支持 Java 和 Python 等编程语言对完善 Flink 生态十分重要。</p><h5 id="云环境互操作性"><a href="#云环境互操作性" class="headerlink" title="云环境互操作性"></a>云环境互操作性</h5><p>许多用户在不同云服务提供商所提供的云基础设施中部署与使用 Flink，同时也有一些服务可以帮助用户管理部署在他们的平台上的 Flink 集群。<br>在 Flink 1.15 中，我们新增了写入 Google Cloud Storage 的支持。我们还整理了 Flink 生态中的连接器并把精力放在支持 AWS 相关的生态上 (即 KDS<sup>[25]</sup> 与 Firehose<sup>[26]</sup> )。</p><h5 id="Elasticsearch-Sink"><a href="#Elasticsearch-Sink" class="headerlink" title="Elasticsearch Sink"></a>Elasticsearch Sink</h5><p>我们在 Flink 的整个连接器生态上进行了大量工作，但我们想强调 Elasticsearch Sink<sup>[27]</sup>：它是基于最新的 Sink API 来实现的，因此可以提供异步输出与端到端一致性的能力。它可以作为未来更多 Sink 实现的模板。</p><h5 id="Scala-free-的-Flink"><a href="#Scala-free-的-Flink" class="headerlink" title="Scala-free 的 Flink"></a>Scala-free 的 Flink</h5><p>博文<sup>[28]</sup> 已经解释了为什么 Scala 用户现在可以结合任何 Scala 版本 (包括 Scala 3) 使用 Flink的 Java API。<br>最后，删除 Scala 依赖只是清理和更新来自 Flink 生态系统的各种技术的更大工作的一部分。<br>从 Flink 1.14 开始，我们移除了 Mesos 集成，隔离了 Akka，废弃了 DataSet Java API，并将 Table API 隐藏在一个抽象后面。社区的这些努力也吸引了许多用户与贡献者的关注。</p><h5 id="PyFlink"><a href="#PyFlink" class="headerlink" title="PyFlink"></a>PyFlink</h5><p>在 Flink 1.15 之前，Python API 中用户定义的函数是在单独的 Python 进程中执行的，这将导致额外的序列化&#x2F;���序��化和进程通信开销。在数据较大的场景中，例如图像处理等，这个开销变得不可忽视。此外，由于它涉及进程间通信，这一处理延迟也是不可忽略的。这些问题在延迟至关重要的场景是不可接受的，例如量化交易等。因此，在 Flink 1.15 中，我们引入了一种 “线程” 模式的新执行模式：用户自定义的函数将在 JVM 中作为线程执行，而不是在单独的 Python 进程中执行。基准测试表明在 JSON 处理等常见场景中吞吐量可以增加 2 倍，处理延迟也从几秒到微秒。需要指出的是，由于这仍然是 “线程” 模式的第一个版本，此前它仅支持 Python Table API 与 SQL 中的标量函数。我们计划在下一版本中将其扩展到 Python API 中其他类型的自定义函数。</p><h4 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h4><p>Flink 1.15 进一步完善了对于连接器测试框架<sup>[29]</sup> 的支持，如果你想贡献一个连接器或改进一个连接器，你绝对应该看一下这部分工作。<br>Flink 1.15 也添加了一些期待已久的功能，包括 CSV 格式<sup>[30]</sup> 与小文件压缩<sup>[31]</sup>。<br>同时，Sink API 被升级到版本 2<sup>[32]</sup>。我们鼓励每个连接器的维护者升级到这个版本。</p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>Apache Flink 简化了运维操作，在对齐流批处理功能取得进一步进展，改进了 SQL 组件使其变得更易于使用，并且现在可以更好地与其他系统进行集成。<br>同值得一提的是社区为 CDC 连接器<sup>[33]</sup> 建立了一个新家。同时，连接器相关代码<sup>[34]</sup> 将被移动到 Flink 外一个单独的仓库中 (以 Elasticsearch Sink 作业第一个例子<sup>[35]</sup> ）。此外，现在社区新增了一个由社区维护的关于 K8s Operator<sup>[36]</sup> 的公告博客<sup>[37]</sup>。<br>展望未来，社区将继续专注于使 Apache Flink 成为真正的流批一体处理系统，并致力于将 Flink 更好地集成到云原生生态系统中。</p><h4 id="升级说明"><a href="#升级说明" class="headerlink" title="升级说明"></a>升级说明</h4><p>虽然我们的目标是尽可能支持平稳升级，但是一些改动仍然需要用户在升级到 1.15 的时候对它们的程序进行调整。请参考 Release Notes<sup>[38]</sup> 来获得在升级时需要进行的改动与可能的问题列表。其中最值得一提的是由于去除 Scala 依赖的努力，现在许多依赖项中不再需要添加 Scala 版本后缀。关于更多信息可以参考<sup>[39]</sup>。</p><h4 id="贡献者列表"><a href="#贡献者列表" class="headerlink" title="贡献者列表"></a>贡献者列表</h4><p>Apache Flink 社区感谢对此版本做出贡献的每一位贡献者：<br>Ada Wong, Ahmed Hamdy, Aitozi, Alexander Fedulov, Alexander Preuß, Alexander Trushev, Ali Bahadir Zeybek, Anton Kalashnikov, Arvid Heise, Bernard Joseph Jean Bruno, Bo Cui, Brian Zhou, Camile, ChangLi, Chengkai Yang, Chesnay Schepler, Daisy T, Danny Cranmer, David Anderson, David Moravek, David N Perkins, Dawid Wysakowicz, Denis-Cosmin Nutiu, Dian Fu, Dong Lin, Eelis Kostiainen, Etienne Chauchot, Fabian Paul, Francesco Guardiani, Gabor Somogyi, Galen Warren, Gao Yun, Gen Luo, GitHub, Gyula Fora, Hang Ruan, Hangxiang Yu, Honnix, Horace Lee, Ingo Bürk, JIN FENG, Jack, Jane Chan, Jark Wu, JianZhangYang, Jiangjie (Becket) Qin, JianzhangYang, Jiayi Liao, Jing, Jing Ge, Jing Zhang, Jingsong Lee, JingsongLi, Jinzhong Li, Joao Boto, Joey Lee, John Karp, Jon Gillham, Jun Qin, Junfan Zhang, Juntao Hu, Kexin, Kexin Hui, Kirill Listopad, Konstantin Knauf, LB-Yu, Leonard Xu, Lijie Wang, Liu Jiangang, Maciej Bryński, Marios Trivyzas, MartijnVisser, Mason Chen, Matthias Pohl, Michal Ciesielczyk, Mika, Mika Naylor, Mrart, Mulavar, Nick Burkard, Nico Kruber, Nicolas Raga, Nicolaus Weidner, Niklas Semmler, Nikolay, Nuno Afonso, Oleg Smirnov, Paul Lin, Paul Zhang, PengFei Li, Piotr Nowojski, Px, Qingsheng Ren, Robert Metzger, Roc Marshal, Roman, Roman Khachatryan, Ruanshubin, Rudi Kershaw, Rui Li, Ryan Scudellari, Ryan Skraba, Sebastian Mattheis, Sergey, Sergey Nuyanzin, Shen Zhu, Shengkai, Shuo Cheng, Sike Bai, SteNicholas, Steffen Hausmann, Stephan Ewen, Tartarus0zm, Thesharing, Thomas Weise, Till Rohrmann, Timo Walther, Tony Wei, Victor Xu, Wenhao Ji, X-czh, Xianxun Ye, Xin Yu, Xinbin Huang, Xintong Song, Xuannan, Yang Wang, Yangze Guo, Yao Zhang, Yi Tang, Yibo Wen, Yuan Mei, Yuanhao Tian, Yubin Li, Yuepeng Pan, Yufan Sheng, Yufei Zhang, Yuhao Bi, Yun Gao, Yun Tang, Yuval Itzchakov, Yuxin Tan, Zakelly, Zhu Zhu, Zichen Liu, Zongwen Li, atptour2017, baisike, bgeng777, camilesing, chenxyz707, chenzihao, chuixue, dengziming, dijkwxyz, fanrui, fengli, fenyi, fornaix, gaurav726, godfrey he, godfreyhe, gongzhongqiang, haochenhao, hapihu, hehuiyuan, hongshuboy, huangxingbo, huweihua, iyupeng, jiaoqingbo, jinfeng, jxjgsylsg, kevin.cyj, kylewang, lbb, liliwei, liming.1018, lincoln lee, liufangqi, liujiangang, liushouwei, liuyongvs, lixiaobao14, lmagic233, lovewin99, lujiefsi, luoyuxia, lz, mans2singh, martijnvisser, mayue.fight, nanmu42, oogetyboogety, paul8263, pusheng.li01, qianchutao, realdengziqi, ruanhang1993, sammieliu, shammon, shihong90, shitou, shouweikun, shouzuo1, shuo.cs, siavash119, simenliuxing, sjwiesman, slankka, slinkydeveloper, snailHumming, snuyanzin, sujun, sujun1, syhily, tsreaper, txdong-sz, unknown, vahmed-hamdy, wangfeifan, wangpengcheng, wangyang0918, wangzhiwu, wangzhuo, wgzhao, wsz94, xiangqiao123, xmarker, xuyang, xuyu, xuzifu666, yangjunhan, yangze.gyz, ysymi, yuxia Luo, zhang chaoming, zhangchaoming, zhangjiaogg, zhangjingcun, zhangjun02, zhangmang, zlzhang0122, zoucao, zp, zzccctv, 周平, 子扬, 李锐, 蒋龙, 龙三, 庄天翼<br>参考链接<br>[1] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.apache.org/foundation/docs/FY2021AnnualReport.pdf">https://www.apache.org/foundation/docs/FY2021AnnualReport.pdf</a><br>[2] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://flink.apache.org/2022/02/22/scala-free.html">https://flink.apache.org/2022/02/22/scala-free.html</a><br>[3] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/checkpoints/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/checkpoints/</a><br>[4] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/savepoints/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/savepoints/</a><br>[5] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/checkpoints_vs_savepoints/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/checkpoints_vs_savepoints/</a><br>[6] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://cwiki.apache.org/confluence/display/FLINK/FLIP-193%3A+Snapshots+ownership">https://cwiki.apache.org/confluence/display/FLINK/FLIP-193%3A+Snapshots+ownership</a><br>[7] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/savepoints/#savepoint-format">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/savepoints/#savepoint-format</a><br>[8] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/savepoints/#resuming-from-savepoints">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/savepoints/#resuming-from-savepoints</a><br>[9] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/elastic_scaling/#reactive-mode">https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/elastic_scaling/#reactive-mode</a><br>[10] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://cwiki.apache.org/confluence/display/FLINK/FLIP-160%3A+Adaptive+Scheduler">https://cwiki.apache.org/confluence/display/FLINK/FLIP-160%3A+Adaptive+Scheduler</a><br>[11] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/elastic_scaling/#adaptive-batch-scheduler">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/elastic_scaling/#adaptive-batch-scheduler</a><br>[12] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/event-time/generating_watermarks/#watermark-alignment-beta">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/event-time/generating_watermarks/#watermark-alignment-beta</a><br>[13] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/api/java/org/apache/flink/table/api/CompiledPlan.html">https://nightlies.apache.org/flink/flink-docs-release-1.15/api/java/org/apache/flink/table/api/CompiledPlan.html</a><br>[14] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/state_backends/#enabling-changelog">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/ops/state/state_backends/#enabling-changelog</a><br>[15] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/config/#retryable-cleanup">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/config/#retryable-cleanup</a><br>[16] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://issues.apache.org/jira/browse/FLINK-26606">https://issues.apache.org/jira/browse/FLINK-26606</a><br>[17] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.openapis.org/">https://www.openapis.org</a><br>[18] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-master/docs/ops/rest_api/#jobmanager">https://nightlies.apache.org/flink/flink-docs-master/docs/ops/rest_api/#jobmanager</a><br>[19] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/overview/">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/overview/</a><br>[20] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/config/#execution-shutdown-on-application-finish">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/config/#execution-shutdown-on-application-finish</a><br>[21] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/fault-tolerance/checkpointing/#checkpointing-with-parts-of-the-graph-finished">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/fault-tolerance/checkpointing/#checkpointing-with-parts-of-the-graph-finished</a><br>[22] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/sql/queries/window-tvf/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/sql/queries/window-tvf/</a><br>[23] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/types/#casting">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/types/#casting</a><br>[24] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/functions/systemfunctions/#json-functions">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/functions/systemfunctions/#json-functions</a><br>[25] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kinesis/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kinesis/</a><br>[26] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/firehose/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/firehose/</a><br>[27] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/elasticsearch/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/elasticsearch/</a><br>[28] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://flink.apache.org/2022/02/22/scala-free.html">https://flink.apache.org/2022/02/22/scala-free.html</a><br>[29] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/PatrickRen/flink/tree/master/flink-test-utils-parent/flink-connector-testing">https://github.com/PatrickRen/flink/tree/master/flink-test-utils-parent/flink-connector-testing</a><br>[30] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/formats/csv/">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/formats/csv/</a><br>[31] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/filesystem/#compaction">https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/filesystem/#compaction</a><br>[32] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/apache/flink/blob/master/flink-core/src/main/java/org/apache/flink/api/connector/sink2/StatefulSink.java">https://github.com/apache/flink/blob/master/flink-core/src/main/java/org/apache/flink/api/connector/sink2/StatefulSink.java</a><br>[33] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://ververica.github.io/flink-cdc-connectors/release-2.1/index.html">https://ververica.github.io/flink-cdc-connectors/release-2.1/index.html</a><br>[34] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://cwiki.apache.org/confluence/display/FLINK/Connectors">https://cwiki.apache.org/confluence/display/FLINK/Connectors</a><br>[35] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/apache/flink-connector-elasticsearch/">https://github.com/apache/flink-connector-elasticsearch/</a><br>[36] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-kubernetes-operator-docs-main/">https://nightlies.apache.org/flink/flink-kubernetes-operator-docs-main/</a><br>[37] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://flink.apache.org/news/2022/04/03/release-kubernetes-operator-0.1.0.html">https://flink.apache.org/news/2022/04/03/release-kubernetes-operator-0.1.0.html</a><br>[38] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://nightlies.apache.org/flink/flink-docs-release-1.15/release-notes/flink-1.15/">https://nightlies.apache.org/flink/flink-docs-release-1.15/release-notes/flink-1.15/</a><br>[39] <a target="_blank" rel="external nofollow noopener noreferrer" href="https://flink.apache.org/2022/02/22/scala-free.html">https://flink.apache.org/2022/02/22/scala-free.html</a></p><p>更多 Flink 相关技术问题，可扫码加入社区钉钉交流群 第一时间获取最新技术文章和社区动态，请关注公众号～</p><div class="post-copyright"><div class="content"><p>本文标题： 推荐系列-官宣｜Apache Flink 1.15 发布公告</p><p>本文作者： OSChina</p><p>发布时间： 2022年05月11日 05:14</p><p>最后更新： 2022年07月08日 15:48</p><p>原始链接： <a class="post-url" href="/67861b5/" title="推荐系列-官宣｜Apache Flink 1.15 发布公告">https://www.hosiang.cn/67861b5/</a></p><p>版权声明： 本文著作权归作者所有，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 4.0</a>许可协议，转载请注明出处！</p><footer><a href="https://www.hosiang.cn"><img src="/../images/logo.png" alt="Howe Hsiang"> Howe Hsiang</a></footer></div></div><div class="page-reward"><a id="rewardBtn" href="javascript:;">赏</a></div><div id="reward" class="post-modal reward-lay"><a class="close" href="javascript:;" id="reward-close">×</a> <span class="reward-title"><i class="icon icon-quote-left"></i> 喜欢就赞赏一下呗！ <i class="icon icon-quote-right"></i></span><div class="reward-content"><div class="reward-code"><img id="rewardCode" src="/images/threepay_code.jpg" alt="打赏二维码"></div><div class="reward-select"></div></div></div></div><footer class="article-footer"><div class="post-share"><a href="javascript:" id="share-sub" class="post-share-fab"><i class="fa fa-share-alt" style="padding-top:11px!important"></i></a><div class="post-share-list" id="share-list"><ul class="share-icons"><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.hosiang.cn/67861b5/" data-title="Facebook" rel="external nofollow noopener noreferrer"><i class="fa fa-facebook" style="padding-top:9px!important"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《推荐系列-官宣｜Apache Flink 1.15 发布公告》 — 狂欢马克思&url=https://www.hosiang.cn/67861b5/&via=https://www.hosiang.cn" data-title="Twitter" rel="external nofollow noopener noreferrer"><i class="fa fa-twitter" style="padding-top:9px!important"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.hosiang.cn/67861b5/" data-title="Google+" rel="external nofollow noopener noreferrer"><i class="fa fa-google-plus" style="padding-top:9px!important"></i></a></li><li><a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://www.hosiang.cn/67861b5/&title=《推荐系列-官宣｜Apache Flink 1.15 发布公告》 — 狂欢马克思&source=&amp;emsp;&amp;emsp; | Joe Moser &amp; 高赟 翻译 | 高赟 Apache Flink，���为 Apache 社区..." data-title="QQ" rel="external nofollow noopener noreferrer"><i class="fa fa-qq" style="padding-top:9px!important"></i></a></li><li><a class="weixin share-sns" id="wxFab" href="javascript:" data-title="微信"><i class="fa fa-weixin" style="padding-top:9px!important"></i></a></li><li><a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://www.hosiang.cn/67861b5/&title=《推荐系列-官宣｜Apache Flink 1.15 发布公告》 — 狂欢马克思&pic=https://img.alicdn.com/imgextra/i4/O1CN01tmtpiy1iazJYZdixL_!!6000000004430-2-tps-899-548.png" data-title="微博" rel="external nofollow noopener noreferrer"><i class="fa fa-weibo" style="padding-top:9px!important"></i></a></li></ul></div></div><div class="post-modal wx-share" id="wxShare"><a class="close" href="javascript:" id="wxShare-close">×</a><p>扫一扫，分享到微信</p><img src="//api.qrserver.com/v1/create-qr-code/?data=https://www.hosiang.cn/67861b5/" alt="微信分享二维码"></div><div class="mask"></div><ul class="article-footer-menu"><li class="article-footer-tags"><i class="fa fa-tags"></i> <a href="/tags/Popular/" class="color3">Popular</a></li></ul></footer></div></article><aside class="post-toc-pos post-toc-top" id="post-toc"><nav class="post-toc-wrap"><ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%BD%BB%E6%9D%BE%E8%BF%90%E7%BB%B4-Apache-Flink"><span class="post-toc-text">轻松运维 Apache Flink</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E6%BE%84%E6%B8%85-Checkpoint-%E4%B8%8E-Savepoint-%E8%AF%AD%E4%B9%89"><span class="post-toc-text">澄清 Checkpoint 与 Savepoint 语义</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%9F%BA%E4%BA%8E-Reactive-%E6%A8%A1%E5%BC%8F%E4%B8%8E%E8%87%AA%E9%80%82%E5%BA%94%E8%B0%83%E5%BA%A6%E5%99%A8%E7%9A%84%E5%BC%B9%E6%80%A7%E4%BC%B8%E7%BC%A9"><span class="post-toc-text">基于 Reactive 模式与自适应调度器的弹性伸缩</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E6%89%B9%E8%B0%83%E5%BA%A6%E5%99%A8"><span class="post-toc-text">自适应批调度器</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E8%B7%A8%E6%BA%90%E8%8A%82%E7%82%B9%E7%9A%84-Watermark-%E5%AF%B9%E9%BD%90"><span class="post-toc-text">跨源节点的 Watermark 对齐</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#SQL-%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7"><span class="post-toc-text">SQL 版本升级</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%9F%BA%E4%BA%8E-Changelog-%E7%9A%84%E7%8A%B6%E6%80%81%E5%AD%98%E5%82%A8"><span class="post-toc-text">基于 Changelog 的状态存储</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%8F%AF%E9%87%8D%EF%BF%BD%EF%BF%BD%EF%BF%BD%E7%9A%84%E6%B8%85%E7%90%86"><span class="post-toc-text">可重���的清理</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Open-API"><span class="post-toc-text">Open API</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Application-%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%94%B9%E8%BF%9B"><span class="post-toc-text">Application 模式的改进</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%B5%81%E6%89%B9%E4%B8%80%E4%BD%93%E7%9A%84%E6%9B%B4%E5%A4%9A%E8%BF%9B%E5%B1%95"><span class="post-toc-text">流批一体的更多进展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E4%BD%9C%E4%B8%9A%E7%BB%93%E6%9D%9F%E5%89%8D%E7%9A%84-Checkpoint"><span class="post-toc-text">作业结束前的 Checkpoint</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Window-table-valued-%E5%87%BD%E6%95%B0"><span class="post-toc-text">Window table-valued 函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Flink-SQL"><span class="post-toc-text">Flink SQL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#CAST-x2F-%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%A2%9E%E5%BC%BA"><span class="post-toc-text">CAST &#x2F; 类型系统增强</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#JSON-%E5%87%BD%E6%95%B0"><span class="post-toc-text">JSON 函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%A4%BE%E5%8C%BA%E6%94%AF%E6%8C%81"><span class="post-toc-text">社区支持</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E4%BA%91%E7%8E%AF%E5%A2%83%E4%BA%92%E6%93%8D%E4%BD%9C%E6%80%A7"><span class="post-toc-text">云环境互操作性</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Elasticsearch-Sink"><span class="post-toc-text">Elasticsearch Sink</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Scala-free-%E7%9A%84-Flink"><span class="post-toc-text">Scala-free 的 Flink</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#PyFlink"><span class="post-toc-text">PyFlink</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%85%B6%E5%AE%83"><span class="post-toc-text">其它</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%80%BB%E7%BB%93"><span class="post-toc-text">总结</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%8D%87%E7%BA%A7%E8%AF%B4%E6%98%8E"><span class="post-toc-text">升级说明</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%B4%A1%E7%8C%AE%E8%80%85%E5%88%97%E8%A1%A8"><span class="post-toc-text">贡献者列表</span></a></li></ol></nav></aside><nav id="article-nav"><a href="/4fa0c386/" id="article-nav-newer" class="article-nav-link-wrap"><span class="article-nav-title"><i class="fa fa-hand-o-left" aria-hidden="true"></i> 推荐系列-如何使用Tomcat实现WebSocket即时通讯服务服务端 </span></a><a href="/b0f3b115/" id="article-nav-older" class="article-nav-link-wrap"><span class="article-nav-title">推荐系列-开源何以生存，谈谈我对开源的商业化思路</span> <i class="fa fa-hand-o-right" aria-hidden="true"></i></a></nav><div id="gitalk"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk=new Gitalk({repo:"bolg-comment",owner:"Hosiang1026",admin:"Hosiang1026",clientID:"37a2dd4473e8970cecc2",clientSecret:"e30efa17d86d9de4f4ab810872dc62a7b2e7e634",pagerDirection:"last",distractionFreeMode:!0,createIssueManually:!1});gitalk.render("gitalk")</script></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner"><script id="_wau78w">var _wau=_wau||[];_wau.push(["small","5dnguv4c2n","78w"])</script><script async src="//waust.at/s.js"></script><p><span id="busuanzi_container_site_uv" style="display:none"><span class="post-count">总字数：<span>1778.2k</span> </span>总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">总访问量：<span id="busuanzi_value_site_pv"></span></span><br><span id="TimeShow">本站</span><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br>Copyright&copy; 2018 - 2022 狂欢马克思 <a href="https://beian.miit.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">京ICP备17060439号</a></p></div></div><script>var now=new Date;function createtime(){var n=new Date("2017/09/18");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",800)</script></footer><script>var mihoConfig={root:"https://www.hosiang.cn",animate:"true",isHome:"false",share:"true",reward:" 1"}</script><div class="sidebar"><div id="sidebar-search" title="Search"><i class="fa fa-search"></i></div><div id="sidebar-category" title="Categories"><i class="fa fa-book"></i></div><div id="sidebar-tag" title="Tags"><i class="fa fa-tags"></i></div><div id="sidebar-top"><span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span></div></div><div class="sidebar-menu-box" id="sidebar-menu-box"><div class="sidebar-menu-box-container"><div id="sidebar-menu-box-categories"><a class="category-link" href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/">兴趣爱好</a><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96%E5%BC%80%E5%8F%91/">其他开发</a><a class="category-link" href="/categories/%E5%89%8D%E6%B2%BF%E5%BC%80%E5%8F%91/">前沿开发</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a><a class="category-link" href="/categories/%E5%8D%87%E7%BA%A7%E7%89%88%E6%9C%AC/">升级版本</a><a class="category-link" href="/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/">博客教程</a><a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">后端开发</a><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><a class="category-link" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/">日常记录</a><a class="category-link" href="/categories/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0/">热门文章</a></div><div id="sidebar-menu-box-tags"><a href="/tags/Ajax/" style="font-size:10px">Ajax</a> <a href="/tags/AliGenie/" style="font-size:10px">AliGenie</a> <a href="/tags/Alipay/" style="font-size:10px">Alipay</a> <a href="/tags/Android/" style="font-size:10px">Android</a> <a href="/tags/Blockchain/" style="font-size:17.5px">Blockchain</a> <a href="/tags/CQRS/" style="font-size:10px">CQRS</a> <a href="/tags/Database/" style="font-size:15px">Database</a> <a href="/tags/Docker/" style="font-size:10px">Docker</a> <a href="/tags/EasyUI/" style="font-size:10px">EasyUI</a> <a href="/tags/Guitar/" style="font-size:10px">Guitar</a> <a href="/tags/Hackintosh/" style="font-size:12.5px">Hackintosh</a> <a href="/tags/Hexo/" style="font-size:15px">Hexo</a> <a href="/tags/IntelliJ-IDEA/" style="font-size:10px">IntelliJ IDEA</a> <a href="/tags/Java/" style="font-size:12.5px">Java</a> <a href="/tags/Kali-Linux/" style="font-size:10px">Kali Linux</a> <a href="/tags/Life/" style="font-size:17.5px">Life</a> <a href="/tags/Mac-OS/" style="font-size:12.5px">Mac OS</a> <a href="/tags/MultiThread/" style="font-size:10px">MultiThread</a> <a href="/tags/NAS/" style="font-size:10px">NAS</a> <a href="/tags/NodeJS/" style="font-size:10px">NodeJS</a> <a href="/tags/Popular/" style="font-size:20px">Popular</a> <a href="/tags/Python/" style="font-size:10px">Python</a> <a href="/tags/SaaS/" style="font-size:10px">SaaS</a> <a href="/tags/Servlet/" style="font-size:10px">Servlet</a> <a href="/tags/Spring/" style="font-size:17.5px">Spring</a> <a href="/tags/Upgrade/" style="font-size:10px">Upgrade</a> <a href="/tags/Web/" style="font-size:10px">Web</a> <a href="/tags/Windows/" style="font-size:10px">Windows</a> <a href="/tags/Work/" style="font-size:10px">Work</a> <a href="/tags/iOS/" style="font-size:10px">iOS</a></div></div><a href="javascript:" class="sidebar-menu-box-close">&times;</a></div><div class="mobile-header-menu-nav" id="mobile-header-menu-nav"><div class="mobile-header-menu-container"><span class="title">导航</span><ul class="mobile-header-menu-navbar"><li><a href="/"><i class="fa fa-home"></i><span>主页</span></a></li><li><a href="/archives"><i class="fa fa-archive"></i><span>归档</span></a></li><li><a href="/gitbook"><i class="fa fa-columns"></i><span>笔记</span></a></li><li><a href="/music"><i class="fa fa-music"></i><span>音乐</span></a></li><li><a href="/photo"><i class="fa fa-picture-o"></i><span>相册</span></a></li><li><a href="/love"><i class="fa fa-heart"></i><span>恋爱</span></a></li><li><a href="/collection"><i class="fa fa-envira"></i><span>收藏</span></a></li><li><a href="/about"><i class="fa fa-user"></i><span>关于</span></a></li></ul></div><div class="mobile-header-tag-container"><span class="title">标签</span><div id="mobile-header-container-tags"><a href="/tags/Ajax/" style="font-size:10px">Ajax</a> <a href="/tags/AliGenie/" style="font-size:10px">AliGenie</a> <a href="/tags/Alipay/" style="font-size:10px">Alipay</a> <a href="/tags/Android/" style="font-size:10px">Android</a> <a href="/tags/Blockchain/" style="font-size:17.5px">Blockchain</a> <a href="/tags/CQRS/" style="font-size:10px">CQRS</a> <a href="/tags/Database/" style="font-size:15px">Database</a> <a href="/tags/Docker/" style="font-size:10px">Docker</a> <a href="/tags/EasyUI/" style="font-size:10px">EasyUI</a> <a href="/tags/Guitar/" style="font-size:10px">Guitar</a> <a href="/tags/Hackintosh/" style="font-size:12.5px">Hackintosh</a> <a href="/tags/Hexo/" style="font-size:15px">Hexo</a> <a href="/tags/IntelliJ-IDEA/" style="font-size:10px">IntelliJ IDEA</a> <a href="/tags/Java/" style="font-size:12.5px">Java</a> <a href="/tags/Kali-Linux/" style="font-size:10px">Kali Linux</a> <a href="/tags/Life/" style="font-size:17.5px">Life</a> <a href="/tags/Mac-OS/" style="font-size:12.5px">Mac OS</a> <a href="/tags/MultiThread/" style="font-size:10px">MultiThread</a> <a href="/tags/NAS/" style="font-size:10px">NAS</a> <a href="/tags/NodeJS/" style="font-size:10px">NodeJS</a> <a href="/tags/Popular/" style="font-size:20px">Popular</a> <a href="/tags/Python/" style="font-size:10px">Python</a> <a href="/tags/SaaS/" style="font-size:10px">SaaS</a> <a href="/tags/Servlet/" style="font-size:10px">Servlet</a> <a href="/tags/Spring/" style="font-size:17.5px">Spring</a> <a href="/tags/Upgrade/" style="font-size:10px">Upgrade</a> <a href="/tags/Web/" style="font-size:10px">Web</a> <a href="/tags/Windows/" style="font-size:10px">Windows</a> <a href="/tags/Work/" style="font-size:10px">Work</a> <a href="/tags/iOS/" style="font-size:10px">iOS</a></div></div></div><div class="search-wrap"><span class="search-close">&times;</span> <a href="javascript:" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input class="search-field" placeholder="Search..." id="keywords"> <a id="search-submit" href="javascript:"><i class="fa fa-search"></i></a><div class="search-container" id="search-container"><ul class="search-result" id="search-result"></ul></div></div><div id="search-tpl"><li class="search-result-item"><a href="{url}" class="search-item-li"><span class="search-item-li-title" title="{title}">{title}</span></a></li></div><script src="/js/search.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script><div id="particles"></div><script src="/js/particles.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css"><script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script><script src="/js/animate.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0,scale:.5},log:!1})</script></body></html>