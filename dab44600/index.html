<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Access-Control-Allow-Origin" content="*"><script type="text/javascript">var start_time=(new Date).getTime()</script><meta http-equiv="Cache-Control" content="no-cache"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="google-site-verification" content="9Wt3lmnrT2bfjaHla5s16adhvcQcBHO7PtNf97n5Od0"><meta name="baidu-site-verification" content="RYlYHsgO7Y"><meta name="sogou_site_verification" content="MSmrTj7lHV"><meta name="shenma-site-verification" content="e4428ccce0f22fad61c3716193bf4bd7_1571416388"><meta name="baidu_union_verify" content="584bb6b4bd24108df082b6d20c7aa9be"><title>推荐系列-Android 启动优化（六）- 深入理解布局优化 | 狂欢马克思</title><meta name="keywords" content="分享技术经验与交流"><meta name="description" content="&amp;emsp;&amp;emsp;前言 说到 Android 启动优化，你一般会想到什么呢？ Android 多线程异步加载 Android 首页懒加载 对，这是两种很常见的优化手段，但是如果让你主导这件事情，你会如何开始呢？ 梳理现有的业务…"><meta property="og:type" content="article"><meta property="og:title" content="推荐系列-Android 启动优化（六）- 深入理解布局优化"><meta property="og:url" content="https://www.hosiang.cn/dab44600/index.html"><meta property="og:site_name" content="狂欢马克思"><meta property="og:description" content="&amp;emsp;&amp;emsp;前言 说到 Android 启动优化，你一般会想到什么呢？ Android 多线程异步加载 Android 首页懒加载 对，这是两种很常见的优化手段，但是如果让你主导这件事情，你会如何开始呢？ 梳理现有的业务…"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-04-15T01:53:06.000Z"><meta property="article:modified_time" content="2022-12-30T10:32:08.241Z"><meta property="article:author" content="Howe Hsiang"><meta property="article:tag" content="Popular"><meta name="twitter:card" content="summary"><link rel="icon" href="/images/favicon.ico"><link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.bootcss.com/font-awesome-animation/0.1.0/font-awesome-animation.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3cd8fa109426bf3f10bd5c362175bace";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="generator" content="Hexo 6.3.0"></head><script src="/js/jquery.min.js"></script><script src="/js/pace.min.js"></script><script src="/js/crypto-js.js"></script><script src="/js/cookie.js"></script><script src="/js/calendar.js"></script><script src="/js/festival.js"></script><script>getFestival()</script><body><script>window.onload=function(){document.getElementById("TimeShow").innerHTML="本站耗时 "+((new Date).getTime()-start_time)/1e3+" 秒 "}</script><div id="container"><header id="header"><div id="banner"></div><div id="header-outer"><div id="header-menu" class="header-menu-pos animated"><div class="header-menu-container"><a href="/" class="left"><span class="site-title">狂欢马克思</span></a><nav id="header-menu-nav" class="right"><a href="/" rel="external nofollow"><i class="fa fa-home"></i> <span>主页</span> </a><a href="/archives" rel="external nofollow"><i class="fa fa-archive"></i> <span>归档</span> </a><a href="/gitbook" rel="external nofollow"><i class="fa fa-columns"></i> <span>笔记</span> </a><a href="/music" rel="external nofollow"><i class="fa fa-music"></i> <span>音乐</span> </a><a href="/photo" rel="external nofollow"><i class="fa fa-picture-o"></i> <span>相册</span> </a><a href="/love" rel="external nofollow"><i class="fa fa-heart"></i> <span>恋爱</span> </a><a href="/collection" rel="external nofollow"><i class="fa fa-envira"></i> <span>收藏</span> </a><a href="/about" rel="external nofollow"><i class="fa fa-user"></i> <span>关于</span></a></nav><a class="mobile-header-menu-button"><i class="fa fa-bars"></i></a></div></div><div id="header-row"><div id="logo"><a href="/"><img src="/../images/logo.png" alt="logo"></a></div><div class="header-info"><div id="header-title"><h2>狂欢马克思</h2></div><div id="header-description"><h3>专注Web开发</h3></div></div><nav class="header-nav"><div class="social"><a title="Github" target="_blank" href="//github.com/Hosiang1026" rel="external nofollow"><i class="fa fa-github fa-2x"></i></a> <a title="QQ" target="_blank" href="//wpa.qq.com/msgrd?v=3&uin=641904695&site=qq&menu=yes" rel="external nofollow"><i class="fa fa-qq fa-2x"></i></a> <a title="Weibo" target="_blank" href="//www.weibo.com/haoxiang969" rel="external nofollow"><i class="fa fa-weibo fa-2x"></i></a></div></nav></div><script type="text/javascript" src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script><div id="noticeId" class="show" style="background:rgb(244,247,247,.3)"><marquee id="noticeMar" behavior="scoll" class="notice" direction="left" onmouseover="this.stop()" onmouseout="this.start()"></marquee></div><script type="text/javascript">function browserRedirect(){var i=navigator.userAgent.toLowerCase(),n="ipad"==i.match(/ipad/i),e="iphone os"==i.match(/iphone os/i),o="midp"==i.match(/midp/i),a="rv:1.2.3.4"==i.match(/rv:1.2.3.4/i),s="ucweb"==i.match(/ucweb/i),t="android"==i.match(/android/i),r="windows ce"==i.match(/windows ce/i),c="windows mobile"==i.match(/windows mobile/i),d="",m=randomColor(),d=n||e||o||a||s||t||r||c?($("#noticeId").css({"line-height":"1.6em"}),"<font style='color:"+m+"' face='新华宋体'  size='2'>官宣：<span id='msg'></span><span id='timer'></span><span id='jinrishici-sentence'></span></font> "):($("#noticeId").css({"line-height":"3.6em","margin-top":"20px"}),"<font style='color:"+m+"' face='新华宋体'  size='6'>官宣：<span id='weekend'></span><span id='msg'></span><span id='timer'></span><span id='jinrishici-sentence'></span></font> ");$("#noticeMar").html(d)}function randomColor(){for(var i="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(","),n="#",e=0;e<6;e++)n+=i[Math.floor(16*Math.random())];return n}$(function(){browserRedirect()})</script></div></header><script>console.log=function(){}</script><div class="outer"><section id="main" class="body-wrap"><article id="post-Android 启动优化（六）- 深入理解布局优化" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="post-title" itemprop="name">推荐系列-Android 启动优化（六）- 深入理解布局优化</h1><div class="post-title-bar"><ul><li><i class="fa fa-book"></i> <a href="/categories/热门文章/">热门文章</a></li><li><i class="fa fa-calendar"></i> 2021-04-15</li><li><i class="fa fa-eye"></i> <span id="busuanzi_value_page_pv"></span></li><li><span class="post-count">字数统计: 3k字</span></li><li><span class="post-count">阅读时长: 12分钟</span></li></ul></div></header><div class="article-entry post-content" itemprop="articleBody"><p>&amp;emsp;&amp;emsp;前言 说到 Android 启动优化，你一般会想到什么呢？ Android 多线程异步加载 Android 首页懒加载 对，这是两种很常见的优化手段，但是如果让你主导这件事情，你会如何开始呢？ 梳理现有的业务…</p><span id="more"></span><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>说到 Android 启动优化，你一般会想到什么呢？</p><p>Android 多线程异步加载<br>Android 首页懒加载</p><p>对，这是两种很常见的优化手段，但是如果让你主导这件事情，你会如何开始呢？</p><p>梳理现有的业务，哪些是一定要在启动初始化的，哪些是不必要的<br>需要在启动初始化的，哪些是可以在主线程初始化的，哪些是可以在子线程初始化的</p><p>当我们把任务丢到子线程初始化，这时候，我们又会遇到两个问题。</p><p>在首页，我们需要用到这个库，如果直接使用，这个库可能还没有初始化，这时候直接调用该库，会发生异常，你要怎么解决<br>当我们的任务相互依赖时，比如 A 依赖于 B， C 也依赖于 B，要怎么解决这种依赖关系。</p><p>这些你有想过嘛。答案都在这几篇文章里面了，这里我就不展开讲了。有疑问的可以一起探讨探讨。<br>Android 启动优化（一） - 有向无环图<br>Android 启动优化（二） - 拓扑排序的原理以及解题思路<br>Android 启动优化（三）- AnchorTask 开源了<br>Android 启动优化（四）- AnchorTask 是怎么实现的<br>Android 启动优化（五）- AnchorTask 1.0.0 版本正式发布了<br>接下来，我们来说一下布局优化相关的。</p><h3 id="布局优化的现状与发展趋势"><a href="#布局优化的现状与发展趋势" class="headerlink" title="布局优化的现状与发展趋势"></a>布局优化的现状与发展趋势</h3><h4 id="耗时原因"><a href="#耗时原因" class="headerlink" title="耗时原因"></a>耗时原因</h4><p>众所周知，布局加载一直是耗时的重灾区。特别是启动阶段，作为第一个 View 加载，更是耗时。<br>而布局加载之所以耗时，有两个原因。</p><p>读取 xml 文件，这是一个 IO 操作。<br>解析 xml 对象，反射创建 View</p><p>一些很常见的做法是</p><p>减少布局嵌套层数，减少过度绘制<br>空界面，错误界面等界面进行懒加载那除了这些做法，我们还有哪些手段可以优化呢？</p><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>异步加载<br>采用代码的方式编写布局</p><h5 id="异步加载"><a href="#异步加载" class="headerlink" title="异步加载"></a>异步加载</h5><p>google 很久之前提供了 AsyncLayoutInflater，异步加载的方案，不过这种方式有蛮多坑的，下文会介绍</p><h5 id="采用代码的方式编写布局"><a href="#采用代码的方式编写布局" class="headerlink" title="采用代码的方式编写布局"></a>采用代码的方式编写布局</h5><p>代码编写的方式编写布局，我们可能想到使用 java 声明布局，对于稍微复杂一点的布局，这种方式是不可取的，存在维护性查，修改困难等问题。为了解决这个问题，github 上面诞生了一系列优秀的开源库。<br>litho: <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/facebook/litho">https://github.com/facebook/litho</a><br>X2C: <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/iReaderAndroid/X2C">https://github.com/iReaderAndroid/X2C</a></p><p>这两个开���库在大型的项目基本不会使用，不过他们的价值是值得肯定的，核心思想很有意义。<br>xml 布局加载耗时的问题， google 也想改善这种现状，最近 Compose beta 发布了，他是采用声明式 UI 的方式来编写布局，避免了 xml 带来的耗时。同时，还支持布局实时预览。这个应该是以后的发展趋势。<br>compose-samples: <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/android/compose-samples">https://github.com/android/compose-samples</a></p><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>上面讲了布局优化的现状与发展趋势，接下来我们一起来看一下，有哪些布局优化手段，可以应用到项目中的。</p><p>渐进式加载<br>异步加载<br>compose 声明式 UI</p><h3 id="渐进式加载"><a href="#渐进式加载" class="headerlink" title="渐进式加载"></a>渐进式加载</h3><h4 id="什么是渐进式加载"><a href="#什么是渐进式加载" class="headerlink" title="什么是渐进式加载"></a>什么是渐进式加载</h4><p>渐进式加载，简单来说，就是一部分一部分加载，当前帧加载完成之后，再去加载下一帧。<br>一种极致的做法是，加载 xml 文件，就想加载一个空白的 xml，布局全部使用 ViewStub 标签进行懒加载。<br>这样设计的好处是可以减缓同一时刻，加载 View 带来的压力，通常的做法是我们先加载核心部分的 View，再逐步去加载其他 View。<br>有人可能会这样问了，这样的设计很鸡肋，有什么用呢？<br>确实，在高端机上面作用不明显，甚至可能看不出来，但是在中低端机上面，带来的效果还是很明显的。在我们项目当中，复杂的页面首帧耗时约可以减少 30%。<br>优点：适配成本低，在中低端机上面效果明显。<br>缺点：还是需要在主线程读取 xml 文件</p><h4 id="核心伪代码"><a href="#核心伪代码" class="headerlink" title="核心伪代码"></a>核心伪代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1start()&#123;<span class="number">2</span>    loadA()&#123;<span class="number">3</span>        loadB()&#123;<span class="number">4</span>            loadC()<span class="number">5</span>        &#125;<span class="number">6</span>    &#125;<span class="number">7</span>&#125;</span><br></pre></td></tr></table></figure><p>上面的这种写法，是可以的，但是这种做法，有一个很明显的缺点，就是会造成回调嵌套层数过多。当然，我们也可以使用 RxJava 来解决这种问题。但是，如果项目中没用 Rxjava，引用进来，会造成包 size 增加。<br>一个简单的做法就是使用队列的思想，将所有的 ViewStubTask 添加到队列当中，当当前的 ViewStubTask 加载完成，才加载下一个，这样可以避免回调嵌套层数过多的问题。<br>改造之后的代码见</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1<span class="type">val</span> <span class="variable">decorView</span> <span class="operator">=</span> <span class="built_in">this</span>.window.decorView2ViewStubTaskManager.instance(decorView)<span class="number">3</span>            .addTask(ViewStubTaskContent(decorView))<span class="number">4</span>            .addTask(ViewStubTaskTitle(decorView))<span class="number">5</span>            .addTask(ViewStubTaskBottom(decorView))<span class="number">6</span>            .start()</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1class ViewStubTaskManager <span class="keyword">private</span> <span class="title function_">constructor</span><span class="params">(val decorView: View)</span> : Runnable &#123; <span class="number">2</span> <span class="number">3</span>    <span class="keyword">private</span> <span class="keyword">var</span> iViewStubTask: IViewStubTask? = <span class="literal">null</span> <span class="number">4</span> <span class="number">5</span>    companion object &#123; <span class="number">6</span> <span class="number">7</span>        const <span class="type">val</span> <span class="variable">TAG</span> <span class="operator">=</span> <span class="string">&quot;ViewStubTaskManager&quot;</span> <span class="number">8</span> <span class="number">9</span>        <span class="meta">@JvmStatic10</span>        fun <span class="title function_">instance</span><span class="params">(decorView: View)</span>: ViewStubTaskManager &#123;<span class="number">11</span>            <span class="keyword">return</span> ViewStubTaskManager(decorView)<span class="number">12</span>        &#125;<span class="number">13</span>    &#125;<span class="number">1415</span>    <span class="keyword">private</span> val queue: MutableList&lt;ViewStubTask&gt; = CopyOnWriteArrayList()<span class="number">16</span>    <span class="keyword">private</span> val list: MutableList&lt;ViewStubTask&gt; = CopyOnWriteArrayList()<span class="number">171819</span>    fun <span class="title function_">setCallBack</span><span class="params">(iViewStubTask: IViewStubTask?)</span>: ViewStubTaskManager &#123;<span class="number">20</span>        <span class="built_in">this</span>.iViewStubTask = iViewStubTask21        <span class="keyword">return</span> this22    &#125;<span class="number">2324</span>    fun <span class="title function_">addTask</span><span class="params">(viewStubTasks: List&lt;ViewStubTask&gt;)</span>: ViewStubTaskManager &#123;<span class="number">25</span>        queue.addAll(viewStubTasks)<span class="number">26</span>        list.addAll(viewStubTasks)<span class="number">27</span>        <span class="keyword">return</span> this28    &#125;<span class="number">2930</span>    fun <span class="title function_">addTask</span><span class="params">(viewStubTask: ViewStubTask)</span>: ViewStubTaskManager &#123;<span class="number">31</span>        queue.add(viewStubTask)<span class="number">32</span>        list.add(viewStubTask)<span class="number">33</span>        <span class="keyword">return</span> this34    &#125;<span class="number">353637</span>    fun <span class="title function_">start</span><span class="params">()</span> &#123;<span class="number">38</span>        <span class="keyword">if</span> (isEmpty()) &#123;<span class="number">39</span>            return40        &#125;<span class="number">41</span>        iViewStubTask?.beforeTaskExecute()<span class="number">42</span>        <span class="comment">// 指定 decorView 绘制下一帧的时候会回调里面的 runnable43        ViewCompat.postOnAnimation(decorView, this)44    &#125;4546    fun stop() &#123;47        queue.clear()48        list.clear()49        decorView.removeCallbacks(null)50    &#125;5152    private fun isEmpty() = queue.isEmpty() || queue.size == 05354    override fun run() &#123;55        if (!isEmpty()) &#123;56            // 当队列不为空的时候，先加载当前 viewStubTask57            val viewStubTask = queue.removeAt(0)58            viewStubTask.inflate()59            iViewStubTask?.onTaskExecute(viewStubTask)60            // 加载完成之后，再 postOnAnimation 加载下一个61            ViewCompat.postOnAnimation(decorView, this)62        &#125; else &#123;63            iViewStubTask?.afterTaskExecute()64        &#125;6566    &#125;6768    fun notifyOnDetach() &#123;69        list.forEach &#123;70            it.onDetach()71        &#125;72        list.clear()73    &#125;7475    fun notifyOnDataReady() &#123;76        list.forEach &#123;77            it.onDataReady()78        &#125;79    &#125;8081&#125;8283interface IViewStubTask &#123;8485    fun beforeTaskExecute()8687    fun onTaskExecute(viewStubTask: ViewStubTask)8889    fun afterTaskExecute()909192&#125;</span></span><br></pre></td></tr></table></figure><p>源码地址：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/gdutxiaoxu/AnchorTask%EF%BC%8C%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81%E4%B8%BB%E8%A6%81%E5%9C%A8">https://github.com/gdutxiaoxu/AnchorTask，核心代码主要在</a> <br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ViewStubTask</span><br></pre></td></tr></table></figure><br>，<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ViewStubTaskManager</span><br></pre></td></tr></table></figure><br>, 有兴趣的可以看看<p></p><h3 id="异步加载-1"><a href="#异步加载-1" class="headerlink" title="异步加载"></a>异步加载</h3><p>异步加载，简单来说，就是在子线程创建 View。在实际应用中，我们通常会先预加载 View，常用的方案有：</p><p>在合适的时候，启动子线程 inflate layout。然后取的时候，直接去缓存里面查找 View 是否已经创建好了，是的话，直接使用缓存。否则，等待子线程 inlfate 完成。</p><h4 id="AsyncLayoutInflater"><a href="#AsyncLayoutInflater" class="headerlink" title="AsyncLayoutInflater"></a>AsyncLayoutInflater</h4><p>官方提供了一个类，可以来进行异步的inflate，但是有两个缺点：</p><p>每次都要现场new一个出来<br>异步加载的view只能通过callback回调才能获得（死穴）</p><p>因此，我们可以仿造官方的 AsyncLayoutInflater 进行改造。核心代码在 AsyncInflateManager。主要介绍两个方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asyncInflate</span><br></pre></td></tr></table></figure><p> 方法，在子线程 inflateView，并将加载结果存放到 mInflateMap 里面。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>    <span class="meta">@UiThread</span> 2fun <span class="title function_">asyncInflate</span><span class="params">( <span class="number">3</span>        context: Context, <span class="number">4</span>        vararg items: AsyncInflateItem? <span class="number">5</span>    )</span> &#123; <span class="number">6</span>        items.forEach &#123; item -&gt; <span class="number">7</span>            <span class="keyword">if</span> (item == <span class="literal">null</span> || item.layoutResId == <span class="number">0</span> || mInflateMap.containsKey(item.inflateKey) || item.isCancelled() || item.isInflating()) &#123; <span class="number">8</span>                <span class="keyword">return</span> <span class="number">9</span>            &#125;<span class="number">10</span>            mInflateMap[item.inflateKey] = item11            <span class="title function_">onAsyncInflateReady</span><span class="params">(item)</span><span class="number">12</span>            inflateWithThreadPool(context, item)<span class="number">13</span>        &#125;<span class="number">1415</span>    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getInflatedView</span><br></pre></td></tr></table></figure><p> 方法，用来获得异步inflate出来的view，核心思想如下</p><p>先从缓存结果里面拿 View，拿到了view直接返回<br>没拿到view，但是子线程在inflate中，等待返回<br>如果还没开始inflate，由UI线程进行inflate</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>    <span class="comment">/** 2     * 用来获得异步inflate出来的view 3     * 4     * <span class="doctag">@param</span> context 5     * <span class="doctag">@param</span> layoutResId 需要拿的layoutId 6     * <span class="doctag">@param</span> parent      container 7     * <span class="doctag">@param</span> inflateKey  每一个View会对应一个inflateKey，因为可能许多地方用的同一个 layout，但是需要inflate多个，用InflateKey进行区分 8     * <span class="doctag">@param</span> inflater    外部传进来的inflater，外面如果有inflater，传进来，用来进行可能的SyncInflate， 9     * <span class="doctag">@return</span> 最后inflate出来的view10     */</span><span class="number">11</span>    <span class="meta">@UiThread12</span>    fun <span class="title function_">getInflatedView</span><span class="params">(<span class="number">13</span>        context: Context?,<span class="number">14</span>        layoutResId: Int,<span class="number">15</span>        parent: ViewGroup?,<span class="number">16</span>        inflateKey: String?,<span class="number">17</span>        inflater: LayoutInflater18    )</span>: View &#123;<span class="number">19</span>        <span class="keyword">if</span> (!TextUtils.isEmpty(inflateKey) &amp;&amp; mInflateMap.containsKey(inflateKey)) &#123;<span class="number">20</span>            <span class="type">val</span> <span class="variable">item</span> <span class="operator">=</span> mInflateMap[inflateKey]<span class="number">21</span>            <span class="type">val</span> <span class="variable">latch</span> <span class="operator">=</span> mInflateLatchMap[inflateKey]<span class="number">22</span>            <span class="keyword">if</span> (item != <span class="literal">null</span>) &#123;<span class="number">23</span>                <span class="type">val</span> <span class="variable">resultView</span> <span class="operator">=</span> item.inflatedView24                <span class="title function_">if</span> <span class="params">(resultView != <span class="literal">null</span>)</span> &#123;<span class="number">25</span>                    <span class="comment">//拿到了view直接返回26                    removeInflateKey(item)27                    replaceContextForView(resultView, context)28                    Log.i(TAG, &quot;getInflatedView from cache: inflateKey is $inflateKey&quot;)29                    return resultView30                &#125;3132                if (item.isInflating() &amp;&amp; latch != null) &#123;33                    //没拿到view，但是在inflate中，等待返回34                    try &#123;35                        latch.await()36                    &#125; catch (e: InterruptedException) &#123;37                        Log.e(TAG, e.message, e)38                    &#125;39                    removeInflateKey(item)40                    if (resultView != null) &#123;41                        Log.i(TAG, &quot;getInflatedView from OtherThread: inflateKey is $inflateKey&quot;)42                        replaceContextForView(resultView, context)43                        return resultView44                    &#125;45                &#125;4647                //如果还没开始inflate，则设置为false，UI线程进行inflate48                item.setCancelled(true)49            &#125;50        &#125;51        Log.i(TAG, &quot;getInflatedView from UI: inflateKey is $inflateKey&quot;)52        //拿异步inflate的View失败，UI线程inflate53        return inflater.inflate(layoutResId, parent, false)54    &#125;</span></span><br></pre></td></tr></table></figure><h4 id="简单-Demo-示范"><a href="#简单-Demo-示范" class="headerlink" title="简单 Demo 示范"></a>简单 Demo 示范</h4><p>第一步：选择在合适的时机调用 <br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AsyncUtils#asyncInflate</span><br></pre></td></tr></table></figure><br> 方法预加载 View，<p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1object AsyncUtils &#123; <span class="number">2</span> <span class="number">3</span>    fun <span class="title function_">asyncInflate</span><span class="params">(context: Context)</span> &#123; <span class="number">4</span>        <span class="type">val</span> <span class="variable">asyncInflateItem</span> <span class="operator">=</span> <span class="number">5</span>            AsyncInflateItem( <span class="number">6</span>                LAUNCH_FRAGMENT_MAIN, <span class="number">7</span>                R.layout.fragment_asny, <span class="number">8</span>                <span class="literal">null</span>, <span class="number">9</span>                null10            )<span class="number">11</span>        AsyncInflateManager.instance.asyncInflate(context, asyncInflateItem)<span class="number">12</span>    &#125;<span class="number">1314</span>    fun <span class="title function_">isHomeFragmentOpen</span><span class="params">()</span> =<span class="number">15</span>        getSP(<span class="string">&quot;async_config&quot;</span>).getBoolean(<span class="string">&quot;home_fragment_switch&quot;</span>, <span class="literal">true</span>)<span class="number">16</span>&#125;</span><br></pre></td></tr></table></figure><p>第二步：在获取 View 的时候，先去缓存里面查找 View</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>    override fun <span class="title function_">onCreateView</span><span class="params">( <span class="number">2</span>        inflater: LayoutInflater, container: ViewGroup?, <span class="number">3</span>        savedInstanceState: Bundle? <span class="number">4</span>    )</span>: View? &#123; <span class="number">5</span>        <span class="comment">// Inflate the layout for this fragment 6        val startTime = System.currentTimeMillis() 7        val homeFragmentOpen = AsyncUtils.isHomeFragmentOpen() 8        val inflatedView: View 910        inflatedView = AsyncInflateManager.instance.getInflatedView(11            context,12            R.layout.fragment_asny,13            container,14            LAUNCH_FRAGMENT_MAIN,15            inflater16        )1718        Log.i(19            TAG,20            &quot;onCreateView: homeFragmentOpen is $homeFragmentOpen, timeInstance is $&#123;System.currentTimeMillis() - startTime&#125;, $&#123;inflatedView.context&#125;&quot;21        )22        return inflatedView23//        return inflater.inflate(R.layout.fragment_asny, container, false)24    &#125;</span></span><br></pre></td></tr></table></figure><h4 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h4><p>优点：<br>可以大大减少 View 创建的时间，使用这种方案之后，获取 View 的时候基本在 10ms 之内的。<br>缺点</p><p>由于 View 是提前创建的，并且会存在在一个 map，需要根据自己的业务场景将 View 从 map 中移除，不然会发生内存泄露<br>View 如果缓存起来，记得在合适的时候重置 view 的状态，不然有时候会发生奇奇怪怪的现象。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>参考文章：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://juejin.cn/post/6844903924965572615">https://juejin.cn/post/6844903924965572615</a></p><p>View 的渐进式加载，在 JectPack compose 没有推广之后，推荐使用这种方案，适配成本低<br>View 的异步加载方案，虽然效果显著，但是适配成本也高，没搞好，容易发生内存泄露<br>JectPack compose 声明式 UI，基本是未来的趋势，有兴趣的可以提前了解一下他。</p><p>这篇文章,加上一些 Demo，足足花了我几个晚上的时间，觉得不错的话可以关注一下我的微信公众号程序员徐公，小弟在此感谢各位大佬们。主要分享</p><p>Android 开发相关的知识，包括 java，kotlin， Android 技术<br>面试相关的东西，包括常见的面试题目，面试经验分享<br>算法相关的知识，比如怎么学习算法，leetcode 常见算法总结<br>一些时事点评，主要是关于互联网的，比如小米高管屌丝事件，拼多多女员工猝死事件等</p><p>源码地址：<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/gdutxiaoxu/AnchorTask">https://github.com/gdutxiaoxu/AnchorTask</a></p><p>Android 启动优化（一） - 有向无环图<br>Android 启动优化（五）-  AnchorTask 1.0.0 版本正式发布了<br>什么？Android webView 的字体突然变小了<br>徐公啐啐念 - 蹭热点也要有底线</p><p>本文分享自微信公众号 - 徐公码字（stormjun94）。如有侵权，请联系 <a href="mailto:&#115;&#x75;&#x70;&#112;&#x6f;&#x72;&#x74;&#64;&#111;&#115;&#x63;&#x68;&#105;&#110;&#97;&#x2e;&#99;&#x6e;">&#115;&#x75;&#x70;&#112;&#x6f;&#x72;&#x74;&#64;&#111;&#115;&#x63;&#x68;&#105;&#110;&#97;&#x2e;&#99;&#x6e;</a> 删除。本文参与“OSC源创计划”，欢迎正在阅读的你也加入，一起分享。</p><div class="post-copyright"><div class="content"><p>本文标题： 推荐系列-Android 启动优化（六）- 深入理解布局优化</p><p>本文作者： OSChina</p><p>发布时间： 2021年04月15日 09:53</p><p>最后更新： 2022年12月30日 18:32</p><p>原始链接： <a class="post-url" href="/dab44600/" title="推荐系列-Android 启动优化（六）- 深入理解布局优化">https://www.hosiang.cn/dab44600/</a></p><p>版权声明： 本文著作权归作者所有，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 4.0</a>许可协议，转载请注明出处！</p><footer><a href="https://www.hosiang.cn"><img src="/../images/logo.png" alt="Howe Hsiang"> Howe Hsiang</a></footer></div></div><div class="page-reward"><a id="rewardBtn" href="javascript:;">赏</a></div><div id="reward" class="post-modal reward-lay"><a class="close" href="javascript:;" id="reward-close">×</a> <span class="reward-title"><i class="icon icon-quote-left"></i> 喜欢就赞赏一下呗！ <i class="icon icon-quote-right"></i></span><div class="reward-content"><div class="reward-code"><img id="rewardCode" src="/images/threepay_code.jpg" alt="打赏二维码"></div><div class="reward-select"></div></div></div></div><footer class="article-footer"><div class="post-share"><a href="javascript:" id="share-sub" class="post-share-fab"><i class="fa fa-share-alt" style="padding-top:11px!important"></i></a><div class="post-share-list" id="share-list"><ul class="share-icons"><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.hosiang.cn/dab44600/" data-title="Facebook" rel="external nofollow noopener noreferrer"><i class="fa fa-facebook" style="padding-top:9px!important"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《推荐系列-Android 启动优化（六）- 深入理解布局优化》 — 狂欢马克思&url=https://www.hosiang.cn/dab44600/&via=https://www.hosiang.cn" data-title="Twitter" rel="external nofollow noopener noreferrer"><i class="fa fa-twitter" style="padding-top:9px!important"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.hosiang.cn/dab44600/" data-title="Google+" rel="external nofollow noopener noreferrer"><i class="fa fa-google-plus" style="padding-top:9px!important"></i></a></li><li><a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://www.hosiang.cn/dab44600/&title=《推荐系列-Android 启动优化（六）- 深入理解布局优化》 — 狂欢马克思&source=&amp;emsp;&amp;emsp;前言 说到 Android 启动优化，你一般会想到什么呢？ Android 多线程异步加载 Android 首页懒..." data-title="QQ" rel="external nofollow noopener noreferrer"><i class="fa fa-qq" style="padding-top:9px!important"></i></a></li><li><a class="weixin share-sns" id="wxFab" href="javascript:" data-title="微信"><i class="fa fa-weixin" style="padding-top:9px!important"></i></a></li><li><a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://www.hosiang.cn/dab44600/&title=《推荐系列-Android 启动优化（六）- 深入理解布局优化》 — 狂欢马克思&pic=https://api.ixiaowai.cn/gqapi/gqapi.php" data-title="微博" rel="external nofollow noopener noreferrer"><i class="fa fa-weibo" style="padding-top:9px!important"></i></a></li></ul></div></div><div class="post-modal wx-share" id="wxShare"><a class="close" href="javascript:" id="wxShare-close">×</a><p>扫一扫，分享到微信</p><img src="//api.qrserver.com/v1/create-qr-code/?data=https://www.hosiang.cn/dab44600/" alt="微信分享二维码"></div><div class="mask"></div><ul class="article-footer-menu"><li class="article-footer-tags"><i class="fa fa-tags"></i> <a href="/tags/Popular/" class="color3">Popular</a></li></ul></footer></div></article><aside class="post-toc-pos post-toc-top" id="post-toc"><nav class="post-toc-wrap"><ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%89%8D%E8%A8%80"><span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96%E7%9A%84%E7%8E%B0%E7%8A%B6%E4%B8%8E%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF"><span class="post-toc-text">布局优化的现状与发展趋势</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%80%97%E6%97%B6%E5%8E%9F%E5%9B%A0"><span class="post-toc-text">耗时原因</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="post-toc-text">解决方案</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD"><span class="post-toc-text">异步加载</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E9%87%87%E7%94%A8%E4%BB%A3%E7%A0%81%E7%9A%84%E6%96%B9%E5%BC%8F%E7%BC%96%E5%86%99%E5%B8%83%E5%B1%80"><span class="post-toc-text">采用代码的方式编写布局</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="post-toc-text">小结</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%B8%90%E8%BF%9B%E5%BC%8F%E5%8A%A0%E8%BD%BD"><span class="post-toc-text">渐进式加载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B8%90%E8%BF%9B%E5%BC%8F%E5%8A%A0%E8%BD%BD"><span class="post-toc-text">什么是渐进式加载</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%A0%B8%E5%BF%83%E4%BC%AA%E4%BB%A3%E7%A0%81"><span class="post-toc-text">核心伪代码</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD-1"><span class="post-toc-text">异步加载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#AsyncLayoutInflater"><span class="post-toc-text">AsyncLayoutInflater</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%AE%80%E5%8D%95-Demo-%E7%A4%BA%E8%8C%83"><span class="post-toc-text">简单 Demo 示范</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="post-toc-text">优缺点</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%80%BB%E7%BB%93"><span class="post-toc-text">总结</span></a></li></ol></nav></aside><nav id="article-nav"><a href="/1ff76c74/" id="article-nav-newer" class="article-nav-link-wrap"><span class="article-nav-title"><i class="fa fa-hand-o-left" aria-hidden="true"></i> 推荐系列-80% 的人都不会的 15 个 Linux 实用技巧 </span></a><a href="/6d6d1fb7/" id="article-nav-older" class="article-nav-link-wrap"><span class="article-nav-title">推荐系列-Android 性能优化 - APK 瘦身</span> <i class="fa fa-hand-o-right" aria-hidden="true"></i></a></nav><div id="gitalk"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk=new Gitalk({repo:"bolg-comment",owner:"Hosiang1026",admin:"Hosiang1026",clientID:"37a2dd4473e8970cecc2",clientSecret:"e30efa17d86d9de4f4ab810872dc62a7b2e7e634",pagerDirection:"last",distractionFreeMode:!0,createIssueManually:!1});gitalk.render("gitalk")</script></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner"><script id="_wau78w">var _wau=_wau||[];_wau.push(["small","5dnguv4c2n","78w"])</script><script async src="//waust.at/s.js"></script><p><span id="busuanzi_container_site_uv" style="display:none"><span class="post-count">总字数：<span>1778.4k</span> </span>总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">总访问量：<span id="busuanzi_value_site_pv"></span></span><br><span id="TimeShow">本站</span><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br>Copyright&copy; 2018 - 2022 狂欢马克思 <a href="https://beian.miit.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">京ICP备17060439号</a></p></div></div><script>var now=new Date;function createtime(){var n=new Date("2017/09/18");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",800)</script></footer><script>var mihoConfig={root:"https://www.hosiang.cn",animate:"true",isHome:"false",share:"true",reward:" 1"}</script><div class="sidebar"><div id="sidebar-search" title="Search"><i class="fa fa-search"></i></div><div id="sidebar-category" title="Categories"><i class="fa fa-book"></i></div><div id="sidebar-tag" title="Tags"><i class="fa fa-tags"></i></div><div id="sidebar-top"><span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span></div></div><div class="sidebar-menu-box" id="sidebar-menu-box"><div class="sidebar-menu-box-container"><div id="sidebar-menu-box-categories"><a class="category-link" href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/">兴趣爱好</a><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96%E5%BC%80%E5%8F%91/">其他开发</a><a class="category-link" href="/categories/%E5%89%8D%E6%B2%BF%E5%BC%80%E5%8F%91/">前沿开发</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a><a class="category-link" href="/categories/%E5%8D%87%E7%BA%A7%E7%89%88%E6%9C%AC/">升级版本</a><a class="category-link" href="/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/">博客教程</a><a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">后端开发</a><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><a class="category-link" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/">日常记录</a><a class="category-link" href="/categories/%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0/">热门文章</a></div><div id="sidebar-menu-box-tags"><a href="/tags/Ajax/" style="font-size:10px">Ajax</a> <a href="/tags/AliGenie/" style="font-size:10px">AliGenie</a> <a href="/tags/Alipay/" style="font-size:10px">Alipay</a> <a href="/tags/Android/" style="font-size:10px">Android</a> <a href="/tags/Blockchain/" style="font-size:17.5px">Blockchain</a> <a href="/tags/CQRS/" style="font-size:10px">CQRS</a> <a href="/tags/Database/" style="font-size:15px">Database</a> <a href="/tags/Docker/" style="font-size:10px">Docker</a> <a href="/tags/EasyUI/" style="font-size:10px">EasyUI</a> <a href="/tags/Guitar/" style="font-size:10px">Guitar</a> <a href="/tags/Hackintosh/" style="font-size:12.5px">Hackintosh</a> <a href="/tags/Hexo/" style="font-size:15px">Hexo</a> <a href="/tags/IntelliJ-IDEA/" style="font-size:10px">IntelliJ IDEA</a> <a href="/tags/Java/" style="font-size:12.5px">Java</a> <a href="/tags/Kali-Linux/" style="font-size:10px">Kali Linux</a> <a href="/tags/Life/" style="font-size:17.5px">Life</a> <a href="/tags/Mac-OS/" style="font-size:12.5px">Mac OS</a> <a href="/tags/MultiThread/" style="font-size:10px">MultiThread</a> <a href="/tags/NAS/" style="font-size:10px">NAS</a> <a href="/tags/NodeJS/" style="font-size:10px">NodeJS</a> <a href="/tags/Popular/" style="font-size:20px">Popular</a> <a href="/tags/Python/" style="font-size:10px">Python</a> <a href="/tags/SaaS/" style="font-size:10px">SaaS</a> <a href="/tags/Servlet/" style="font-size:10px">Servlet</a> <a href="/tags/Spring/" style="font-size:17.5px">Spring</a> <a href="/tags/Upgrade/" style="font-size:10px">Upgrade</a> <a href="/tags/Web/" style="font-size:10px">Web</a> <a href="/tags/Windows/" style="font-size:10px">Windows</a> <a href="/tags/Work/" style="font-size:10px">Work</a> <a href="/tags/iOS/" style="font-size:10px">iOS</a></div></div><a href="javascript:" class="sidebar-menu-box-close">&times;</a></div><div class="mobile-header-menu-nav" id="mobile-header-menu-nav"><div class="mobile-header-menu-container"><span class="title">导航</span><ul class="mobile-header-menu-navbar"><li><a href="/"><i class="fa fa-home"></i><span>主页</span></a></li><li><a href="/archives"><i class="fa fa-archive"></i><span>归档</span></a></li><li><a href="/gitbook"><i class="fa fa-columns"></i><span>笔记</span></a></li><li><a href="/music"><i class="fa fa-music"></i><span>音乐</span></a></li><li><a href="/photo"><i class="fa fa-picture-o"></i><span>相册</span></a></li><li><a href="/love"><i class="fa fa-heart"></i><span>恋爱</span></a></li><li><a href="/collection"><i class="fa fa-envira"></i><span>收藏</span></a></li><li><a href="/about"><i class="fa fa-user"></i><span>关于</span></a></li></ul></div><div class="mobile-header-tag-container"><span class="title">标签</span><div id="mobile-header-container-tags"><a href="/tags/Ajax/" style="font-size:10px">Ajax</a> <a href="/tags/AliGenie/" style="font-size:10px">AliGenie</a> <a href="/tags/Alipay/" style="font-size:10px">Alipay</a> <a href="/tags/Android/" style="font-size:10px">Android</a> <a href="/tags/Blockchain/" style="font-size:17.5px">Blockchain</a> <a href="/tags/CQRS/" style="font-size:10px">CQRS</a> <a href="/tags/Database/" style="font-size:15px">Database</a> <a href="/tags/Docker/" style="font-size:10px">Docker</a> <a href="/tags/EasyUI/" style="font-size:10px">EasyUI</a> <a href="/tags/Guitar/" style="font-size:10px">Guitar</a> <a href="/tags/Hackintosh/" style="font-size:12.5px">Hackintosh</a> <a href="/tags/Hexo/" style="font-size:15px">Hexo</a> <a href="/tags/IntelliJ-IDEA/" style="font-size:10px">IntelliJ IDEA</a> <a href="/tags/Java/" style="font-size:12.5px">Java</a> <a href="/tags/Kali-Linux/" style="font-size:10px">Kali Linux</a> <a href="/tags/Life/" style="font-size:17.5px">Life</a> <a href="/tags/Mac-OS/" style="font-size:12.5px">Mac OS</a> <a href="/tags/MultiThread/" style="font-size:10px">MultiThread</a> <a href="/tags/NAS/" style="font-size:10px">NAS</a> <a href="/tags/NodeJS/" style="font-size:10px">NodeJS</a> <a href="/tags/Popular/" style="font-size:20px">Popular</a> <a href="/tags/Python/" style="font-size:10px">Python</a> <a href="/tags/SaaS/" style="font-size:10px">SaaS</a> <a href="/tags/Servlet/" style="font-size:10px">Servlet</a> <a href="/tags/Spring/" style="font-size:17.5px">Spring</a> <a href="/tags/Upgrade/" style="font-size:10px">Upgrade</a> <a href="/tags/Web/" style="font-size:10px">Web</a> <a href="/tags/Windows/" style="font-size:10px">Windows</a> <a href="/tags/Work/" style="font-size:10px">Work</a> <a href="/tags/iOS/" style="font-size:10px">iOS</a></div></div></div><div class="search-wrap"><span class="search-close">&times;</span> <a href="javascript:" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input class="search-field" placeholder="Search..." id="keywords"> <a id="search-submit" href="javascript:"><i class="fa fa-search"></i></a><div class="search-container" id="search-container"><ul class="search-result" id="search-result"></ul></div></div><div id="search-tpl"><li class="search-result-item"><a href="{url}" class="search-item-li"><span class="search-item-li-title" title="{title}">{title}</span></a></li></div><script src="/js/search.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script><div id="particles"></div><script src="/js/particles.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css"><script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script><script src="/js/animate.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0,scale:.5},log:!1})</script></body></html>