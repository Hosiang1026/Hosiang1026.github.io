var calendar={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["日","一","二","三","四","五","六","七","八","九","十"],nStr2:["初","十","廿","卅"],nStr3:["正","二","三","四","五","六","七","八","九","十","冬","腊"],lYearDays:function(b){var f,e=348;for(f=32768;f>8;f>>=1){e+=this.lunarInfo[b-1900]&f?1:0}return e+this.leapDays(b)},leapMonth:function(b){return this.lunarInfo[b-1900]&15},leapDays:function(b){if(this.leapMonth(b)){return this.lunarInfo[b-1900]&65536?30:29}return 0},monthDays:function(b,f){if(f>12||f<1){return-1}return this.lunarInfo[b-1900]&65536>>f?30:29},solarDays:function(b,f){if(f>12||f<1){return-1}var e=f-1;if(e==1){return b%4==0&&b%100!=0||b%400==0?29:28}else{return this.solarMonth[e]}},toGanZhiYear:function(b){var f=(b-3)%10;var e=(b-3)%12;if(f==0)f=10;if(e==0)e=12;return this.Gan[f-1]+this.Zhi[e-1]},toAstro:function(b,f){var e="魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯";var c=[20,19,21,21,21,22,23,23,23,23,22,22];return e.substr(b*2-(f<c[b-1]?2:0),2)+"座"},toGanZhi:function(b){return this.Gan[b%10]+this.Zhi[b%12]},getTerm:function(b,f){if(b<1900||b>2100){return-1}if(f<1||f>24){return-1}var e=this.sTermInfo[b-1900];var c=[parseInt("0x"+e.substr(0,5)).toString(),parseInt("0x"+e.substr(5,5)).toString(),parseInt("0x"+e.substr(10,5)).toString(),parseInt("0x"+e.substr(15,5)).toString(),parseInt("0x"+e.substr(20,5)).toString(),parseInt("0x"+e.substr(25,5)).toString()];var a=[c[0].substr(0,1),c[0].substr(1,2),c[0].substr(3,1),c[0].substr(4,2),c[1].substr(0,1),c[1].substr(1,2),c[1].substr(3,1),c[1].substr(4,2),c[2].substr(0,1),c[2].substr(1,2),c[2].substr(3,1),c[2].substr(4,2),c[3].substr(0,1),c[3].substr(1,2),c[3].substr(3,1),c[3].substr(4,2),c[4].substr(0,1),c[4].substr(1,2),c[4].substr(3,1),c[4].substr(4,2),c[5].substr(0,1),c[5].substr(1,2),c[5].substr(3,1),c[5].substr(4,2)];return parseInt(a[f-1])},toChinaMonth:function(b){if(b>12||b<1){return-1}var f=this.nStr3[b-1];f+="月";return f},toChinaDay:function(b){var f;switch(b){case 10:f="初十";break;case 20:f="二十";break;break;case 30:f="三十";break;break;default:f=this.nStr2[Math.floor(b/10)];f+=this.nStr1[b%10]}return f},getAnimal:function(b){return this.Animals[(b-4)%12]},solar2lunar:function(b,f,e){if(b<1900||b>2100){return-1}if(b==1900&&f==1&&e<31){return-1}if(!b){var c=new Date}else{var c=new Date(b,parseInt(f)-1,e)}var a,r=0,t=0;var b=c.getFullYear(),f=c.getMonth()+1,e=c.getDate();var n=(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate())-Date.UTC(1900,0,31))/864e5;for(a=1900;a<2101&&n>0;a++){t=this.lYearDays(a);n-=t}if(n<0){n+=t;a--}var s=new Date,d=false;if(s.getFullYear()==b&&s.getMonth()+1==f&&s.getDate()==e){d=true}var i=c.getDay(),o=this.nStr1[i];if(i==0){i=7}var u=a;var r=this.leapMonth(a);var h=false;for(a=1;a<13&&n>0;a++){if(r>0&&a==r+1&&h==false){--a;h=true;t=this.leapDays(u)}else{t=this.monthDays(u,a)}if(h==true&&a==r+1){h=false}n-=t}if(n==0&&r>0&&a==r+1){if(h){h=false}else{h=true;--a}}if(n<0){n+=t;--a}var v=a;var l=n+1;var D=f-1;var g=this.toGanZhiYear(u);var m=this.getTerm(b,f*2-1);var y=this.getTerm(b,f*2);var p=this.toGanZhi((b-1900)*12+f+11);if(e>=m){p=this.toGanZhi((b-1900)*12+f+12)}var M=false;var I=null;if(m==e){M=true;I=this.solarTerm[f*2-2]}if(y==e){M=true;I=this.solarTerm[f*2-1]}var T=Date.UTC(b,D,1,0,0,0,0)/864e5+25567+10;var S=this.toGanZhi(T+e-1);var C=this.toAstro(f,e);return{lYear:u,lMonth:v,lDay:l,Animal:this.getAnimal(u),IMonthCn:(h?"闰":"")+this.toChinaMonth(v),IDayCn:this.toChinaDay(l),cYear:b,cMonth:f,cDay:e,gzYear:g,gzMonth:p,gzDay:S,isToday:d,isLeap:h,nWeek:i,ncWeek:"星期"+o,isTerm:M,Term:I,astro:C}},lunar2solar:function(b,f,e,c){var c=!!c;var a=0;var r=this.leapMonth(b);var t=this.leapDays(b);if(c&&r!=f){return-1}if(b==2100&&f==12&&e>1||b==1900&&f==1&&e<31){return-1}var n=this.monthDays(b,f);var s=n;if(c){s=this.leapDays(b,f)}if(b<1900||b>2100||e>s){return-1}var d=0;for(var i=1900;i<b;i++){d+=this.lYearDays(i)}var o=0,u=false;for(var i=1;i<f;i++){o=this.leapMonth(b);if(!u){if(o<=i&&o>0){d+=this.leapDays(b);u=true}}d+=this.monthDays(b,i)}if(c){d+=n}var h=Date.UTC(1900,1,30,0,0,0);var v=new Date((d+e-31)*864e5+h);var l=v.getUTCFullYear();var D=v.getUTCMonth()+1;var g=v.getUTCDate();return this.solar2lunar(l,D,g)}};function getCurrentDateTime(){var b=new Date;var f=b.getFullYear();var e=b.getMonth()+1;var c=b.getDate();var a=b.getDay();var r=f;if(e>9)r=r+"年"+e;else r=r+"年0"+e;if(c>9)r=r+"月"+c+"日";else r=r+"月0"+c+"日";var t="";if(a==0)t="星期日";else if(a==1)t="星期一";else if(a==2)t="星期二";else if(a==3)t="星期三";else if(a==4)t="星期四";else if(a==5)t="星期五";else if(a==6)t="星期六";r=r+" "+t;return r}function showCal(){var b=new Date;var f=b.getFullYear();var e=b.getMonth()+1;var c=b.getDate();var a=b.getDay();var r=parseInt(b.getTime()/1e3);if(f<100)f="19"+f;return GetLunarDay(f,e,c)}var CalendarData=new Array(100);var madd=new Array(12);var tgString="甲乙丙丁戊己庚辛壬癸";var dzString="子丑寅卯辰巳午未申酉戌亥";var numString="一二三四五六七八九十";var monString="正二三四五六七八九十冬腊";var weekString="日一二三四五六";var sx="鼠牛虎兔龙蛇马羊猴鸡狗猪";var cYear,cMonth,cDay,TheDate;CalendarData=[2635,333387,1701,1748,267701,694,2391,133423,1175,396438,3402,3749,331177,1453,694,201326,2350,465197,3221,3402,400202,2901,1386,267611,605,2349,137515,2709,464533,1738,2901,330421,1242,2651,199255,1323,529706,3733,1706,398762,2741,1206,267438,2647,1318,204070,3477,461653,1386,2413,330077,1197,2637,268877,3365,531109,2900,2922,398042,2395,1179,267415,2635,661067,1701,1748,398772,2742,2391,330031,1175,1611,200010,3749,527717,1452,2742,332397,2350,3222,268949,3402,3493,133973,1386,464219,605,2349,334123,2709,2890,267946,2773,592565,1210,2651,395863,1323,2707,265877];madd[0]=0;madd[1]=31;madd[2]=59;madd[3]=90;madd[4]=120;madd[5]=151;madd[6]=181;madd[7]=212;madd[8]=243;madd[9]=273;madd[10]=304;madd[11]=334;function GetBit(b,f){return b>>f&1}function e2c(){TheDate=arguments.length!=3?new Date:new Date(arguments[0],arguments[1],arguments[2]);var b,f,e,c;var a=false;var r=TheDate.getYear();if(r<1900){r+=1900}b=(r-1921)*365+Math.floor((r-1921)/4)+madd[TheDate.getMonth()]+TheDate.getDate()-38;if(TheDate.getYear()%4==0&&TheDate.getMonth()>1){b++}for(f=0;;f++){c=CalendarData[f]<4095?11:12;for(e=c;e>=0;e--){if(b<=29+GetBit(CalendarData[f],e)){a=true;break}b=b-29-GetBit(CalendarData[f],e)}if(a)break}cYear=1921+f;cMonth=c-e+1;cDay=b;if(c==12){if(cMonth==Math.floor(CalendarData[f]/65536)+1){cMonth=1-cMonth}if(cMonth>Math.floor(CalendarData[f]/65536)+1){cMonth--}}}function GetcDateString(){var b="";if(cMonth<1){b+="(闰)";b+=monString.charAt(-cMonth-1)}else{b+=monString.charAt(cMonth-1)}b+="月";b+=cDay<11?"初":cDay<20?"十":cDay<30?"廿":"三十";if(cDay%10!=0||cDay==10){b+=numString.charAt((cDay-1)%10)}return b}function GetLunarDay(b,f,e){if(b<1921||b>2020){return""}else{f=parseInt(f)>0?f-1:11;e2c(b,f,e);return GetcDateString()}}function conversion(b){var f=parseInt(b.substring(0,4));var e=parseInt(b.substring(5,7));var c=parseInt(b.substring(8,10));var a=calendar.lunar2solar(f,e,c);var r=a.cYear+"/"+a.cMonth+"/"+a.cDay;return r}function conversionTerm(b,f,e){var c=calendar.getTerm(parseInt(b),parseInt(e));var a=b+"/"+f+"/"+c;return a}function conversionLunar(b){var f=calendar.toGanZhiYear(parseInt(b));var e=calendar.getAnimal(parseInt(b));var c=f+e+"年";return c}function conversionAstro(b){var f=parseInt(b.substring(0,4));var e=parseInt(b.substring(5,7));var c=parseInt(b.substring(8,10));var a=calendar.lunar2solar(f,e,c);var r=a.astro+"-"+"生肖属"+a.Animal;return r}function conversionParentDate(b,f,e,c){var a=b+`/`+f+`/`+`01`;var r=new Date(a);var t=parseInt(r.getDay())==0?7:parseInt(r.getDay());var n=new Date(b,f,0).getDate();var s=n%7;if(7-t>=s){var d=parseInt(n/7)+1}else{var d=parseInt(n/7)+2}var i=new Date(b+`/`+f+`/`+n).getDay();if(i==0){d=d-1}var o=0;switch(t){case 7:o=1+1;break;case 1:o=1;break;case 2:o=1+5;break;case 3:o=1+4;break;case 4:o=1+3;break;case 5:o=1+2;break;case 6:o=1+1;break}var u=[];u[0]=1+(c-t);for(var h=1;h<=d-1;h++){if(h==1){u[h]=u[0]+7}else{u[h]=u[h-1]+7}}var v=[];for(var l=0,D=u.length;l<=D;l++){var g=u[l];if(g>0&&g<=n){var m=b+`/`+f+`/`+g;v.push(m)}}var y;if(v.length>0){if(v.length>e-1){y=v[e-1]}else{y=v[v.length-1]}}return y}