---
title: æ¨èç³»åˆ—-æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®
categories: çƒ­é—¨æ–‡ç« 
tags:
  - Popular
author: OSChina
top: 812
cover_picture: 'https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png'
abbrlink: 2d9e8424
date: 2021-04-15 10:16:57
---

&emsp;&emsp;ğŸ‘† è¿™æ˜¯ç¬¬ 96 ç¯‡ä¸æºæ°´çš„åŸåˆ›ï¼Œæƒ³è¦äº†è§£æ›´å¤šï¼Œè¯·æˆ³ä¸Šæ–¹è“è‰²å­—ä½“ï¼šæ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿ å…³æ³¨æˆ‘ä»¬å§ï½ æœ¬æ–‡é¦–å‘äºæ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿåšå®¢ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®ç»ˆç¨¿ https://ww...
<!-- more -->

                                                                                                                                                                                         
  
   
   ğŸ‘†Â  
   Â è¿™æ˜¯ç¬¬  
   96 
   Â ç¯‡ 
   ä¸æºæ°´çš„åŸåˆ› 
   ï¼Œæƒ³è¦äº†è§£æ›´å¤š 
   ï¼Œè¯·æˆ³ä¸Šæ–¹è“è‰²å­—ä½“ï¼š 
   æ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿ 
   Â å…³æ³¨æˆ‘ä»¬å§ï½ 
   
   
  ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  ### ä¸ºä»€ä¹ˆä½¿ç”¨ Github Actions ï¼Ÿ 
  ä¼—æ‰€å‘¨çŸ¥ï¼Œå‰ç«¯éƒ¨ç½²æ— éå°±æ˜¯æŠŠæ‰“åŒ…ä¹‹åçš„ä»£ç ä¸¢åˆ° nginx html ç›®å½•ä¸‹å°±å®Œäº‹äº†ï¼Œä½†æ˜¯æ¯é€¢äº§å“é¢‘ç¹æ”¹éœ€æ±‚ï¼Œç”šè‡³åªæ˜¯è®©ä½ æ”¹çº¿ä¸Šä¸€ä¸ªå­—çš„æ—¶å€™ï¼Œä½ æ€»è¦é‡å¤ä¸€éä»¥ä¸‹åŠ¨ä½œï¼šä¿®æ”¹ï¼Œæ‰“åŒ…ï¼Œç™»å½•æœåŠ¡å™¨ï¼Œä¸Šä¼ ä»£ç ï¼Œé‡å¯æœåŠ¡å™¨ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œåˆ«è¯´æ˜¯ä½ å—ä¸äº†äº†ï¼Œææˆ‘æ—è¾¹çœ‹ç€éƒ½å—ä¸äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡æœ‰ä¸ªæœºå™¨äººï¼Œèƒ½å¸®æˆ‘ä»¬å®Œæˆä»¥ä¸Šè¿™äº›é‡å¤åˆæ²¡æŠ€æœ¯å«é‡çš„æ´»ã€‚æ²¡é”™ï¼Œä½ çŒœå¯¹äº†ï¼ŒGithub Actions å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„é‚£ä¸ªæœºå™¨äººã€‚ 
   
  ### Github Actions æ˜¯ä»€ä¹ˆï¼Ÿ 
  å¤§å®¶çŸ¥é“ï¼ŒæŒç»­é›†æˆ (https://www.ruanyifeng.com/blog/2015/09/continuous-integration.html?fileGuid=1PWJAvQBtLA5IGh3) ç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚æ‹‰å–æœ€æ–°ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•æœåŠ¡å™¨ã€éƒ¨ç½²æœåŠ¡å™¨ç­‰ï¼ŒGitHub æŠŠè¿™äº›æ“ä½œç»Ÿä¸€ç§°ä¸º Actionsã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  æˆ‘ä»¬å†æ¢³ç†ä¸‹æ­£å¸¸éœ€æ±‚çš„å¼€å‘æµç¨‹ï¼ˆå¦‚ä¸Šå›¾ï¼‰ï¼Œä»¥ä¸Šæ“ä½œæ˜¯å¯é‡å¤åˆ©ç”¨çš„ï¼Œåˆ©ç”¨è¿™ä¸€æ¦‚å¿µï¼ŒGithub é›†æˆäº† Actions å¸‚åœºï¼Œå…è®¸å¼€å‘è€…æŠŠæ“ä½œå†™æˆç‹¬ç«‹çš„è„šæœ¬ï¼Œå‘å¸ƒåˆ° Actions å¸‚åœºï¼Œå…è®¸æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ï¼Œè¿™é‡Œæœ‰ç‚¹åƒ Npm å’Œ VSCode ä¸­çš„æ’ä»¶ã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  Github ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä»¥ä¸‹é…ç½®çš„æœåŠ¡å™¨æ¥è¿è¡Œæˆ‘ä»¬é…ç½®å¯¹åº”çš„ Actionsï¼š 
   
    
    
      2-core CPU 
     
    
    
      7 GB of RAM memory 
     
    
    
      14 GB of SSD disk space 
     
   
  è¿™ä¸ªé…ç½®è¶³å¤Ÿæˆ‘ä»¬ä½¿ç”¨äº†ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ æœ‰ç½‘ç»œæ—¶å»¶çš„éœ€æ±‚ï¼Œï¼ˆæ¯”å¦‚æ¨é€åŠæ‹‰å–é•œåƒæ—¶äº§ç”Ÿçš„ç½‘ç»œæ—¶å»¶ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå»ºæœåŠ¡å™¨ (https://docs.github.com/cn/actions/hosting-your-own-runners?fileGuid=1PWJAvQBtLA5IGh3)ã€‚ 
   
  ### éƒ¨ç½²è‡ªå·±çš„å‰ç«¯é¡¹ç›® 
   
  #### 1ã€é€‰æ‹© Github é¡¹ç›®ä»“åº“ 
  è¿™é‡Œæˆ‘é€‰æ‹©äº†å¾ˆä¹…ä»¥å‰åˆšå¼€å§‹å­¦ä¹  Vue æ—¶æ¨¡ä»¿ bilibili åšçš„é¡¹ç›® bilibili-vue (https://github.com/zlyyyy/bilibili-vue?fileGuid=1PWJAvQBtLA5IGh3)ï¼Œè¿›å…¥é¡¹ç›®ä»“åº“ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”çš„ Actions æ ‡ç­¾ï¼Œç‚¹å‡»è¿›å…¥ã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
   
  #### 2ã€æ–°å»ºå·¥ä½œæµï¼Œé…ç½® Actions 
  è¿›å…¥ Actions åå¯ä»¥çœ‹åˆ°å¾ˆå¤šæ¨èçš„å·¥ä½œæµæ¨¡ç‰ˆï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œé€‰æ‹©çš„æ¨¡ç‰ˆï¼Œæˆ–è€…è·³è¿‡æ¨¡ç‰ˆï¼Œè‡ªè¡Œè®¾ç½®ã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  è¿™é‡Œå› ä¸ºæˆ‘æ˜¯çº¯å‰ç«¯é¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹© Node.js æ¨¡ç‰ˆã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  ç‚¹å‡» Node.js æ¨¡ç‰ˆï¼Œä¼šè‡ªåŠ¨åœ¨é¡¹ç›®Â  
 ```java 
  .github/workflows ç›®å½•ä¸‹ç”Ÿæˆ node.js.yml
  ``` 
 Â æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ–‡ä»¶åå­—æ”¹æˆæˆ‘ä»¬å·¥ä½œæµçš„åç§°ã€‚å½“ç„¶ï¼Œè¿™é‡Œå¯ä»¥è®¾ç½®å¹¶å­˜åœ¨å¾ˆå¤šå·¥ä½œæµÂ  
 ```java 
  yml
  ``` 
 Â æ–‡ä»¶ï¼Œä¾‹å¦‚ deploy.ymlã€test.ymlã€gh-page.yml ç­‰ã€‚ 
   
 ```java 
  # workflowåç§°ã€‚çœç•¥çš„è¯ï¼Œé»˜è®¤ä¸ºå½“å‰workflowæ–‡ä»¶åname:Â Node.jsÂ CI#Â è§¦å‘workflowçš„æ¡ä»¶ï¼Œon:push:#Â åªæœ‰masteråˆ†æ”¯å‘ç”Ÿpushäº‹ä»¶æ—¶ï¼Œæ‰ä¼šè§¦å‘workflowbranches:Â [Â masterÂ ]pull_request:branches:Â [Â masterÂ ]#Â jobsè¡¨ç¤ºæ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡jobs:#Â ä»»åŠ¡çš„job_idï¼Œå…·ä½“åç§°è‡ªå®šä¹‰ï¼Œè¿™é‡Œbuildä»£è¡¨æ‰“åŒ…build:# runs-onå­—æ®µæŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚æ³¨æ„ï¼šè¿™ä¸ªæ˜¯å¿…å¡«å­—æ®µruns-on:Â ubuntu-latest#Â ç”¨äºé…ç½®å½“å‰workflowçš„å‚æ•°strategy:matrix:node-version:Â [10.x,Â 12.x,Â 14.x,Â 15.x]#Â SeeÂ supportedÂ Node.jsÂ releaseÂ scheduleÂ atÂ https://nodejs.org/en/about/releases/#Â stepså­—æ®µæŒ‡å®šæ¯ä¸ªjobçš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥é…ç½®æŒ‡å®šå­—æ®µsteps:#Â åˆ‡ä»£ç åˆ°Â runner-Â uses:Â actions/checkout@v2#Â åœ¨å½“å‰æ“ä½œç³»ç»Ÿå®‰è£…node-Â name:Â UseÂ Node.jsÂ ${{Â matrix.node-versionÂ }}uses:Â actions/setup-node@v1with:node-version:Â ${{Â matrix.node-versionÂ }}#Â è¯¥è¿è¡Œçš„å‘½ä»¤æˆ–è€…action#Â å®‰è£…ä¾èµ–ã€è¿è¡Œæµ‹è¯•ã€æ‰“åŒ…Â Â Â Â -Â run:Â npmÂ installÂ Â Â Â -Â run:Â npmÂ testÂ Â Â Â -Â run:Â npmÂ runÂ build
  ``` 
  
   
  #### 3ã€å¸¸è§çš„ Actions é…ç½® 
   
  ##### æ‰“ç‰ˆæœ¬æ ‡ç­¾ Create Tag Release 
   
   
 ```java 
  on:Â Â push:Â Â Â Â #Â SequenceÂ ofÂ patternsÂ matchedÂ againstÂ refs/tagsÂ Â Â Â tags:Â Â Â Â Â Â -Â 'v*'Â #Â PushÂ eventsÂ toÂ matchingÂ v*,Â i.e.Â v1.0,Â v20.15.10name:Â CreateÂ Releasejobs:Â Â build:Â Â Â Â name:Â CreateÂ ReleaseÂ Â Â Â runs-on:Â ubuntu-latestÂ Â Â Â steps:Â Â Â Â Â Â -Â name:Â CheckoutÂ codeÂ Â Â Â Â Â Â Â uses:Â actions/checkout@masterÂ Â Â Â Â Â -Â name:Â CreateÂ ReleaseÂ Â Â Â Â Â Â Â id:Â create_releaseÂ Â Â Â Â Â Â Â uses:Â actions/create-release@latestÂ Â Â Â Â Â Â Â env:Â Â Â Â Â Â Â Â Â Â GITHUB_TOKEN:Â ${{Â secrets.GITHUB_TOKENÂ }}Â #Â ThisÂ tokenÂ isÂ providedÂ byÂ Actions,Â youÂ doÂ notÂ needÂ toÂ createÂ yourÂ ownÂ tokenÂ Â Â Â Â Â Â Â with:Â Â Â Â Â Â Â Â Â Â tag_name:Â ${{Â github.refÂ }}Â Â Â Â Â Â Â Â Â Â release_name:Â ReleaseÂ ${{Â github.refÂ }}Â Â Â Â Â Â Â Â Â Â body:Â |Â Â Â Â Â Â Â Â Â Â Â Â ChangesÂ inÂ thisÂ ReleaseÂ Â Â Â Â Â Â Â Â Â Â Â -Â FirstÂ ChangeÂ Â Â Â Â Â Â Â Â Â Â Â -Â SecondÂ ChangeÂ Â Â Â Â Â Â Â Â Â draft:Â falseÂ Â Â Â Â Â Â Â Â Â prerelease:Â false
  ``` 
  
   
  ##### åˆ›å»º Github Pages ç«™ç‚¹ 
   
   
 ```java 
  name:Â githubÂ pagesÂ on:Â Â Â push:Â Â Â Â Â branches:Â Â Â Â Â Â Â -Â masterÂ #Â defaultÂ branchÂ jobs:Â Â Â deploy:Â Â Â Â Â runs-on:Â ubuntu-18.04Â Â Â Â Â steps:Â Â Â Â Â Â Â -Â uses:Â actions/checkout@v2Â Â Â Â Â Â Â -Â run:Â npmÂ installÂ Â Â Â Â Â Â -Â run:Â npmÂ runÂ docs:buildÂ Â Â Â Â Â Â -Â name:Â DeployÂ Â Â Â Â Â Â Â Â uses:Â peaceiris/actions-gh-pages@v3Â Â Â Â Â Â Â Â Â with:Â Â Â Â Â Â Â Â Â Â Â github_token:Â ${{Â secrets.GITHUB_TOKENÂ }}Â Â Â Â Â Â Â Â Â Â Â publish_dir:Â ./docs-dist
  ``` 
  
   
  ##### å¤šäººåä½œå¼€å‘ï¼Œäº‘ç«¯ä»£ç æ£€æµ‹ 
   
 ```java 
  name:Â TestÂ Â on:Â [push,Â pull_request]Â Â jobs:Â Â Â lint:Â Â Â Â Â runs-on:Â ubuntu-latestÂ Â Â Â Â steps:Â Â Â Â Â -Â uses:Â actions/checkout@v2Â Â Â Â Â -Â uses:Â actions/setup-node@v1Â Â Â Â Â Â Â with:Â Â Â Â Â Â Â Â Â node-version:Â '12.x'Â Â Â Â Â Â -Â name:Â InstallÂ dependenciesÂ Â Â Â Â Â Â uses:Â bahmutov/npm-install@v1Â Â Â Â Â Â -Â name:Â RunÂ linterÂ Â Â Â Â Â Â run:Â npmÂ runÂ lintÂ Â Â Â test:Â Â Â Â Â runs-on:Â ubuntu-latestÂ Â Â Â Â steps:Â Â Â Â Â -Â uses:Â actions/checkout@v2Â Â Â Â Â -Â uses:Â actions/setup-node@v1Â Â Â Â Â Â Â with:Â Â Â Â Â Â Â Â Â node-version:Â '12.x'Â Â Â Â Â Â -Â name:Â InstallÂ dependenciesÂ Â Â Â Â Â Â uses:Â bahmutov/npm-install@v1Â Â Â Â Â Â -Â name:Â RunÂ testÂ Â Â Â Â Â Â run:Â npmÂ testÂ Â Â Â build:Â Â Â Â Â runs-on:Â ubuntu-latestÂ Â Â Â Â steps:Â Â Â Â Â -Â uses:Â actions/checkout@v2Â Â Â Â Â -Â uses:Â actions/setup-node@v1Â Â Â Â Â Â Â with:Â Â Â Â Â Â Â Â Â node-version:Â '12.x'Â Â Â Â Â Â -Â name:Â InstallÂ dependenciesÂ Â Â Â Â Â Â uses:Â bahmutov/npm-install@v1Â Â Â Â Â Â -Â name:Â BuildÂ Â Â Â Â Â Â run:Â npmÂ runÂ build
  ``` 
  
  ä»¥ä¸Šæ˜¯ Github ä¸­å¸¸è§çš„ä¸€äº›é…ç½®ï¼Œæ›´å¤š Actions é…ç½®(https://docs.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions?fileGuid=1PWJAvQBtLA5IGh3) å¯ä»¥å‚è€ƒå®˜ç½‘ã€‚ 
   
  #### 4ã€æ­é… Docker 
   
  æ²¡æœ‰ Docker ä¹‹å‰ï¼Œæˆ‘æ˜¯ä½¿ç”¨ Webhook å®ç°è‡ªåŠ¨éƒ¨ç½²ï¼Œä½†åé¢é‡åˆ°äº†æœåŠ¡å™¨åˆ°æœŸæ›´æ¢æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå°±åªèƒ½ä¸€ä¸ªä¸ªé‡å¤æ“ä½œæ¥åšè¿ç§»ï¼Œè€Œä¸”æ–‡ä»¶ç›®å½•ç®¡ç†æ··ä¹±ï¼Œé¡¹ç›®å˜å¤šæ—¶ï¼Œç»´æŠ¤æˆæœ¬ä¹Ÿä¼šè¶Šæ¥è¶Šé«˜ã€‚å†çœ‹ Docker äº”å¤§ä¼˜åŠ¿ï¼šæŒç»­é›†æˆã€ç‰ˆæœ¬æ§åˆ¶ã€å¯ç§»æ¤æ€§ã€éš”ç¦»æ€§å’Œå®‰å…¨æ€§ï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯ç”¨æ¥è§£å†³æˆ‘ä»¬ä¸Šè¿°é‡åˆ°çš„é—®é¢˜çš„ã€‚ä¸¾ä¾‹ï¼šbilibili-vue (https://github.com/zlyyyy/bilibili-vue?fileGuid=1PWJAvQBtLA5IGh3)ï¼Œä¸æ˜ç™½çš„åŒå­¦å¯ä»¥å‚è€ƒæˆ‘çš„é…ç½®ã€‚ 
   
  ##### 4.1 é¡¹ç›®æ ¹ç›®å½•æ–°å»º Nginx é…ç½® 
  é¡¹ç›®æ ¹ç›®å½•æ–°å»º Nginx é…ç½®æ–‡ä»¶å‘½å vhost.nginx.confï¼ˆåå­—éšä¾¿å®šï¼Œè·Ÿåé¢Â DockerfileÂ ä¸­å¼•ç”¨ä¸€è‡´å³å¯ï¼‰ä¾›åç»­ä½¿ç”¨ï¼Œä¾‹ï¼š 
   
 ```java 
  serverÂ {listenÂ 80;server_nameÂ localhost;locationÂ /Â {Â Â rootÂ /usr/share/nginx/html;Â Â indexÂ index.htmlÂ index.htm;Â Â proxy_set_headerÂ HostÂ $host;Â Â ifÂ (!-fÂ $request_filename)Â {Â Â Â Â rewriteÂ ^.*$Â /index.htmlÂ break;Â Â }}error_pageÂ 500Â 502Â 503Â 504Â /50x.html;locationÂ =Â /50x.htmlÂ {Â Â Â Â rootÂ /usr/share/nginx/html;Â Â }}
  ``` 
  
   
  ##### 4.2 é¡¹ç›®æ ¹ç›®å½•æ–°å»ºÂ DockerfileÂ æ–‡ä»¶ 
  é¡¹ç›®æ ¹ç›®å½•æ–°å»ºÂ DockerfileÂ æ–‡ä»¶ï¼Œæ„å»ºé•œåƒåŒ…ä½¿ç”¨ï¼Œä¾‹ï¼š 
   
 ```java 
  FROMÂ nginxCOPYÂ ./dist/Â /usr/share/nginx/html/#Â ç¬¬ä¸€æ­¥nginxé…ç½®æ–‡ä»¶åç§°Â Â COPYÂ ./vhost.nginx.confÂ /etc/nginx/conf.d/bilibili-vue.confEXPOSEÂ 80
  ``` 
  
   
  ##### 4.3 é…ç½®å®¹å™¨é•œåƒæœåŠ¡ 
  è¿™é‡Œæˆ‘é€‰æ‹©äº†é˜¿é‡Œäº‘çš„å®¹å™¨é•œåƒæœåŠ¡ (https://www.aliyun.com/product/acr?fileGuid=1PWJAvQBtLA5IGh3)ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨å›½å¤–çš„ dockhub (https://hub.docker.com/?fileGuid=1PWJAvQBtLA5IGh3) å‘¢ï¼Œå› ä¸ºè¿™æ ·ä½¿ç”¨èµ·æ¥é€Ÿåº¦å¿«ä¸€ç‚¹ï¼Œè€Œä¸”æœ‰å…è´¹çš„ä¸ªäººç‰ˆè¶³å¤Ÿæˆ‘ä»¬ä½¿ç”¨ã€‚ 
   
  ###### 4.3.1 ç¬¬ä¸€æ­¥ 
  åˆæ¬¡æ‰“å¼€éœ€è¦å¼€é€šæœåŠ¡ï¼Œé…ç½®ç™»å½•å¯†ç ï¼ˆè®°ä¸‹æ¥ï¼Œåé¢è¦ç”¨ï¼‰ã€‚ 
   
  ###### 4.3.2 ç¬¬äºŒæ­¥ 
  ç„¶ååˆ›å»ºå‘½åç©ºé—´ï¼Œå†åˆ›å»ºæˆ‘ä»¬çš„é•œåƒä»“åº“ï¼Œè¿™é‡Œå¦‚æœä¸æƒ³åˆ«äººä¸‹è½½ä½ çš„é•œåƒçš„è¯å°±å¯ä»¥é€‰æ‹©ç§æœ‰ã€‚ç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥é…ç½®ä»£ç æºï¼Œè¿™é‡Œæˆ‘é€‰æ‹©äº†æœ¬åœ°ä»“åº“ï¼Œä¸€æ–¹é¢æ˜¯ä¸ºäº†æ—¥å¿—ç»Ÿä¸€ï¼Œå¯ä»¥åœ¨ Github Actions çœ‹åˆ°æ‰€æœ‰æ—¥å¿—ï¼Œä¸€æ–¹é¢æ˜¯å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç›´æ¥æ¨é€é•œåƒåˆ°é•œåƒä»“åº“ï¼Œè‡ªç”±åº¦æ¯”è¾ƒé«˜ã€‚![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  ###### 4.3.3 ç¬¬ä¸‰æ­¥ 
  ä¹‹åå°±å¯ä»¥åœ¨é¡µé¢çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„ä»“åº“ï¼Œç‚¹å‡»ä»“åº“åç§°è¿›å…¥ï¼Œå¯ä»¥çœ‹åˆ°ä»“åº“çš„åŸºæœ¬ä¿¡æ¯å’Œæ“ä½œæŒ‡å—ï¼Œè¿™ä¸ªæ—¶å€™ä¸€ä¸ªé•œåƒä»“åº“å°±å®Œå…¨åˆ›å»ºæˆåŠŸäº†ã€‚![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
   
  ##### 4.4 å¦‚ä½•è·Ÿ Actions è”åŠ¨ 
  æˆ‘ä»¬åªç”¨åœ¨ Actions ä¸­ build é•œåƒåç™»å½•é˜¿é‡Œäº‘ Registry å®ä¾‹å°±å¥½äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å¦‚æœæ˜æ–‡ç›´æ¥å†™åœ¨ yml ä¸­è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼ŒGithub æ—©å°±å¸®æˆ‘ä»¬è€ƒè™‘åˆ°äº†è¿™ç‚¹ï¼Œå›åˆ° Github é¡¹ç›®ä¸­ï¼Œä¾æ¬¡ç‚¹å‡» Settings => Secrets => New repository secret ï¼Œè®¾ç½® secretï¼Œé…ç½®ä¸Šè¿°å®¹å™¨é•œåƒè´¦å·çš„ç”¨æˆ·åï¼ˆé˜¿é‡Œäº‘ç”¨æˆ·åï¼‰å’Œå¯†ç ï¼ˆä¸Šè¿°é…ç½®å®¹å™¨é•œåƒæœåŠ¡æ—¶è®¾ç½®çš„ç™»å½•å¯†ç ï¼‰ã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
   
  #### 5ã€å®Œæ•´çš„ Actions 
   
 ```java 
  name:Â DockerÂ ImageÂ CIÂ #Â Actionsåç§°on:Â [push]Â #Â æ‰§è¡Œæ—¶æœºjobs:#Â è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯yarnï¼Œæƒ³ç”¨npmçš„åŒå­¦å°†yarnå‘½ä»¤ä¿®æ”¹ä¸ºnpmå‘½ä»¤å³å¯build:runs-on:Â ubuntu-lateststeps:-Â name:Â checkoutuses:Â actions/checkout@master#Â å®‰è£…ä¾èµ–-Â name:Â installrun:Â yarn#Â æ‰“åŒ…-Â name:Â buildÂ projectrun:Â yarnÂ runÂ build#Â æ‰“åŒ…é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡-Â name:Â BuildÂ theÂ DockerÂ imagerun:Â |dockerÂ loginÂ --username=${{Â secrets.DOCKER_USERNAMEÂ }}Â registry.cn-hangzhou.aliyuncs.comÂ --password=${{Â secrets.DOCKER_PASSWORDÂ }}dockerÂ buildÂ -tÂ bilibili-vue:latestÂ .dockerÂ tagÂ bilibili-vueÂ registry.cn-hangzhou.aliyuncs.com/zlyyyy/bilibili-vue:latestdockerÂ pushÂ registry.cn-hangzhou.aliyuncs.com/zlyyyy/bilibili-vue:latestÂ #Â æ¨é€-Â name:Â sshÂ dockerÂ loginÂ #Â ä½¿ç”¨appleboy/ssh-action@masterç™»å½•æœåŠ¡å™¨æ‰§è¡Œæ‹‰å–é•œåƒè„šæœ¬ï¼ŒæœåŠ¡å™¨ipã€ç”¨æˆ·åã€å¯†ç é…ç½®æ–¹å¼åŒå®¹å™¨é•œåƒæœåŠ¡é…ç½®æ–¹å¼ä¸€æ ·uses:Â appleboy/ssh-action@masterwith:Â Â Â Â Â Â Â Â host:Â ${{Â secrets.SSH_HOSTÂ }}Â username:Â ${{Â secrets.SSH_USERNAMEÂ }}password:Â ${{Â secrets.SSH_PASSWORDÂ }}script:Â cdÂ ~Â &&Â shÂ bilibili-vue-deploy.shÂ ${{Â secrets.DOCKER_USERNAMEÂ }}Â ${{Â secrets.DOCKER_PASSWORDÂ }}
  ``` 
  
  æœ€åä¸€æ­¥ç™»å½•æœåŠ¡å™¨åï¼Œæˆ‘æ‰§è¡Œäº†ä¸€ä¸ªè„šæœ¬æ¥æ‹‰å–äº‘ç«¯æœ€æ–°é•œåƒï¼Œå¹¶åˆ é™¤æ—§é•œåƒï¼Œå¯åŠ¨æ–°é•œåƒã€‚è„šæœ¬å†…å®¹å¦‚ä¸‹ã€‚ 
   
 ```java 
  echoÂ -eÂ "---------dockerÂ Login--------"dockerÂ loginÂ --username=$1Â registry.cn-hangzhou.aliyuncs.comÂ --password=$2echoÂ -eÂ "---------dockerÂ Stop--------"dockerÂ stopÂ bilibili-vueechoÂ -eÂ "---------dockerÂ Rm--------"dockerÂ rmÂ bilibili-vuedockerÂ rmiÂ registry.cn-hangzhou.aliyuncs.com/zlyyyy/bilibili-vue:latestechoÂ -eÂ "---------dockerÂ Pull--------"dockerÂ pullÂ registry.cn-hangzhou.aliyuncs.com/zlyyyy/bilibili-vue:latestechoÂ -eÂ "---------dockerÂ CreateÂ andÂ Start--------"dockerÂ runÂ --rmÂ -dÂ -pÂ 8081:80Â --nameÂ bilibili-vueÂ registry.cn-hangzhou.aliyuncs.com/zlyyyy/bilibili-vue:latestechoÂ -eÂ "---------deployÂ Success--------"
  ``` 
  
   
  #### 6ã€æµ‹è¯•æµç¨‹ï¼ŒæŸ¥çœ‹æ—¥å¿— 
  æˆ‘ä»¬æ¨é€ä¸€æ¬¡ä»£ç æµ‹è¯•ï¼Œæ‰“å¼€ Actions åå¯ä»¥çœ‹åˆ°è‡ªåŠ¨è¿è¡Œçš„å®æ—¶ workflow ç»“æœï¼Œä»¥åŠæ¯æ­¥çš„æ—¥å¿—ä¿¡æ¯ã€‚ 
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
    
   
  æ€»ç»“ 
  ###  
  åˆ°æ­¤æˆ‘ä»¬è‡ªåŠ¨åŒ–éƒ¨ç½²æˆåŠŸï¼Œå†ä¹Ÿä¸è¦æ¯æ¬¡ä¿®æ”¹ä»£ç ï¼Œæ‰‹åŠ¨æ›´æ–°çº¿ä¸Šäº†ï¼Œåé¢è¿ç§»ä¹Ÿä¼šæ›´æ–¹ä¾¿ï¼Œå½“ç„¶è¿˜æœ‰æ›´å¤šçš„è‡ªåŠ¨åŒ–éƒ¨ç½²æ–¹å¼ï¼Œæ¯”å¦‚ç›´æ¥ä½¿ç”¨ Github + é˜¿é‡Œäº‘é•œåƒä»“åº“çš„è§¦å‘å™¨ä¸€æ ·å¯ä»¥åšåˆ°ï¼Œå®¹å™¨æœåŠ¡ä¹Ÿä¸ä»…é™äºé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ç­‰å…¶ä»–äº‘æœåŠ¡å‚å•†åŒæ ·ä¹Ÿæ˜¯ä¸€æ ·çš„ä½¿ç”¨æ–¹å¼ã€‚ä»¥ä¸Šæ˜¯æˆ‘ä¸ªäººä½¿ç”¨ Actions çš„ä¸€äº›æ€»ç»“ï¼Œå¦‚æœ‰é”™è¯¯ï¼ŒåŠ³çƒ¦æŒ‡æ­£ä¿®æ”¹ã€‚å½“ç„¶å¯¹æ›´å¤š Actions ç©æ³•æ„Ÿå…´è¶£çš„åŒå­¦æ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ã€‚å½“ç„¶è¿™ä¸ªä»…é™äºä¸ªäººçš„é¡¹ç›®ç©æ³•ï¼Œå…¬å¸å†…éƒ¨çš„é¡¹ç›®æœ‰æ›´åŠ æˆç†Ÿå®Œå–„çš„è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œæ¯”å¦‚æˆ‘ä»¬å†…éƒ¨æ‰€ä½¿ç”¨çš„äº‘ï¿½ï¿½ç³»ç»Ÿï¼Œå°±æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„ï¼Œå…·ä½“äº‘é•¿åšäº†äº›ä»€ä¹ˆï¼Œåç»­ä¼šæœ‰è¯¦ç»†æ–‡ç« è¾“å‡ºï¼Œæ•¬è¯·æœŸå¾…ã€‚ 
   
  ### å‚è€ƒæ–‡çŒ® 
  GitHub Actions å…¥é—¨æ•™ç¨‹ (http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html?fileGuid=1PWJAvQBtLA5IGh3) 
  æŒç»­é›†æˆæ˜¯ä»€ä¹ˆï¼Ÿ(https://www.ruanyifeng.com/blog/2015/09/continuous-integration.html?fileGuid=1PWJAvQBtLA5IGh3) 
   
  #### çœ‹å®Œä¸¤ä»¶äº‹ 
  å¦‚æœä½ è§‰å¾—è¿™ç¯‡å†…å®¹å¯¹ä½ æŒºæœ‰å¯å‘ï¼Œæˆ‘æƒ³é‚€è¯·ä½ å¸®æˆ‘ä¸¤ä»¶å°äº‹ 
  1.ç‚¹ä¸ªã€Œåœ¨çœ‹ã€ï¼Œè®©æ›´å¤šäººä¹Ÿèƒ½çœ‹åˆ°è¿™ç¯‡å†…å®¹ï¼ˆç‚¹äº†ã€Œåœ¨çœ‹ã€ï¼Œbug -1 ğŸ˜Šï¼‰ 
  
    2.å…³æ³¨å…¬ä¼—å·ã€Œ 
   æ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿã€ï¼ŒæŒç»­ä¸ºä½ æ¨é€ç²¾é€‰å¥½æ–‡ 
   
   
  #### æ‹›è´¤çº³å£« 
  æ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿï¼ˆZooTeamï¼‰ï¼Œä¸€ä¸ªå¹´è½»å¯Œæœ‰æ¿€æƒ…å’Œåˆ›é€ åŠ›çš„å‰ç«¯å›¢é˜Ÿï¼Œéš¶å±äºæ”¿é‡‡äº‘äº§å“ç ”å‘éƒ¨ï¼ŒBase åœ¨é£æ™¯å¦‚ç”»çš„æ­å·ã€‚å›¢é˜Ÿç°æœ‰ 40 ä½™ä¸ªå‰ç«¯å°ä¼™ä¼´ï¼Œå¹³å‡å¹´é¾„ 27 å²ï¼Œè¿‘ 3 æˆæ˜¯å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œå¦¥å¦¥çš„é’å¹´é£æš´å›¢ã€‚æˆå‘˜æ„æˆæ—¢æœ‰æ¥è‡ªäºé˜¿é‡Œã€ç½‘æ˜“çš„â€œè€â€å…µï¼Œä¹Ÿæœ‰æµ™å¤§ã€ä¸­ç§‘å¤§ã€æ­ç”µç­‰æ ¡çš„åº”å±Šæ–°äººã€‚å›¢é˜Ÿåœ¨æ—¥å¸¸çš„ä¸šåŠ¡å¯¹æ¥ä¹‹å¤–ï¼Œè¿˜åœ¨ç‰©æ–™ä½“ç³»ã€å·¥ç¨‹å¹³å°ã€æ­å»ºå¹³å°ã€æ€§èƒ½ä½“éªŒã€äº‘ç«¯åº”ç”¨ã€æ•°æ®åˆ†æåŠå¯è§†åŒ–ç­‰æ–¹å‘è¿›è¡ŒæŠ€æœ¯æ¢ç´¢å’Œå®æˆ˜ï¼Œæ¨åŠ¨å¹¶è½åœ°äº†ä¸€ç³»åˆ—çš„å†…éƒ¨æŠ€æœ¯äº§å“ï¼ŒæŒç»­æ¢ç´¢å‰ç«¯æŠ€æœ¯ä½“ç³»çš„æ–°è¾¹ç•Œã€‚ 
  å¦‚æœä½ æƒ³æ”¹å˜ä¸€ç›´è¢«äº‹æŠ˜è…¾ï¼Œå¸Œæœ›å¼€å§‹èƒ½æŠ˜è…¾äº‹ï¼›å¦‚æœä½ æƒ³æ”¹å˜ä¸€ç›´è¢«å‘Šè¯«éœ€è¦å¤šäº›æƒ³æ³•ï¼Œå´æ— ä»ç ´å±€ï¼›å¦‚æœä½ æƒ³æ”¹å˜ä½ æœ‰èƒ½åŠ›å»åšæˆé‚£ä¸ªç»“æœï¼Œå´ä¸éœ€è¦ä½ ï¼›å¦‚æœä½ æƒ³æ”¹å˜ä½ æƒ³åšæˆçš„äº‹éœ€è¦ä¸€ä¸ªå›¢é˜Ÿå»æ”¯æ’‘ï¼Œä½†æ²¡ä½ å¸¦äººçš„ä½ç½®ï¼›å¦‚æœä½ æƒ³æ”¹å˜æ—¢å®šçš„èŠ‚å¥ï¼Œå°†ä¼šæ˜¯â€œ5 å¹´å·¥ä½œæ—¶é—´ 3 å¹´å·¥ä½œç»éªŒâ€ï¼›å¦‚æœä½ æƒ³æ”¹å˜æœ¬æ¥æ‚Ÿæ€§ä¸é”™ï¼Œä½†æ€»æ˜¯æœ‰é‚£ä¸€å±‚çª—æˆ·çº¸çš„æ¨¡ç³Šâ€¦ å¦‚æœä½ ç›¸ä¿¡ç›¸ä¿¡çš„åŠ›é‡ï¼Œç›¸ä¿¡å¹³å‡¡äººèƒ½æˆå°±éå‡¡äº‹ï¼Œç›¸ä¿¡èƒ½é‡åˆ°æ›´å¥½çš„è‡ªå·±ã€‚å¦‚æœä½ å¸Œæœ›å‚ä¸åˆ°éšç€ä¸šåŠ¡è…¾é£çš„è¿‡ç¨‹ï¼Œäº²æ‰‹æ¨åŠ¨ä¸€ä¸ªæœ‰ç€æ·±å…¥çš„ä¸šåŠ¡ç†è§£ã€å®Œå–„çš„æŠ€æœ¯ä½“ç³»ã€æŠ€æœ¯åˆ›é€ ä»·å€¼ã€å½±å“åŠ›å¤–æº¢çš„å‰ç«¯å›¢é˜Ÿçš„æˆé•¿å†ç¨‹ï¼Œæˆ‘è§‰å¾—æˆ‘ä»¬è¯¥èŠèŠã€‚ä»»ä½•æ—¶é—´ï¼Œç­‰ç€ä½ å†™ç‚¹ä»€ä¹ˆï¼Œå‘ç»™  
 ```java 
  ZooTeam@cai-inc.com
  ``` 
  
   
   ![Test](https://oscimg.oschina.net/oscnet/421207aa-b21f-4036-b434-51225084ad61.png  'æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Github Actions éƒ¨ç½²å‰ç«¯é¡¹ç›®') 
   
  
  
 
æœ¬æ–‡åˆ†äº«è‡ªå¾®ä¿¡å…¬ä¼—å· - æ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿï¼ˆZoo-Teamï¼‰ã€‚å¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³» support@oschina.cn åˆ é™¤ã€‚æœ¬æ–‡å‚ä¸â€œOSCæºåˆ›è®¡åˆ’â€ï¼Œæ¬¢è¿æ­£åœ¨é˜…è¯»çš„ä½ ä¹ŸåŠ å…¥ï¼Œä¸€èµ·åˆ†äº«ã€‚
                                        